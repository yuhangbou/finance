{"version":3,"sources":["webpack:///src/pages/qimojiezhuan/editor.vue","webpack:///./src/pages/qimojiezhuan/editor.vue?2707","webpack:///./src/pages/qimojiezhuan/editor.vue"],"names":["editor","name","mixins","components","pingzheng","add_pingzheng","data","yaoxinxi","qimo_editor_fanxian","certificate_uuid","flag1","flag2","form","code","date","user","tableData","dialogVisible","tableData1","id","page","pageSize","total","mounted","this","getStorage","get_jiezhuan_date","fanxian","$route","query","number","title","methods","geixinxi","x","y","ok","_this","isNaN","Number","_message","certificateAbstract","debitMoney","creditMoney","subject","forEach","item","zhaiyao","jie","dai","split","includes","_ajax","uuid","workAccountId","accountId","certificateNumber","time","certificateUuid","msg","$router","push","clear","_this2","jiezhuan_date","Array","join","Date","getDate","slice","certificate_number","creationTime","index","new_subjects_name","accountant_code","certificate_abstract","jie_show","dai_show","total_credit_money","total_debit_money","length","sessionStorage","removeItem","pingzhengzihao","_this3","congxianyoupiaojuxuanze","list_bind","_this4","PageInfo","list","handleSizeChange","val","console","log","handleCurrentChange","dangqianye","dialogVisible_ok","setItem","stringify_default","qimojiezhuan_editor","render","_vm","_h","$createElement","_c","_self","staticStyle","background","padding","font-size","color","text-align","_v","border","margin-top","display","justify-content","align-items","staticClass","attrs","inline","model","label","placeholder","value","callback","$$v","$set","expression","type","value-format","on","click","$event","getTime","margin-left","path","visible","close-on-press-escape","close-on-click-modal","update:visible","prop","width","scopedSlots","_u","key","fn","scope","row","current-page","page-sizes","page-size","layout","size-change","current-change","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/52.63cf5f1d80933208fe79.js","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"background: #FFF;padding: 2vh 2vw;\">\r\n            <div style=\"font-size: 30px;color: #1C2023;text-align: center;\">修改凭证</div>\r\n            <div style=\"border: 1px solid #F8F8FF;padding: 2vw;margin-top: 2vh\">\r\n                <!--上-->\r\n                <div style=\"display: flex;justify-content: space-between;align-items: flex-start;\">\r\n                    <div>\r\n                        <el-form :inline=\"true\" :model=\"form\" class=\"demo-form-inline\">\r\n                            <el-form-item label=\"凭证字号：\">\r\n                                <el-input v-model=\"form.code\" placeholder=\"\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"号\">\r\n                            </el-form-item>\r\n                            <el-form-item label=\"日期：\">\r\n                                <el-date-picker type=\"date\" placeholder=\"\" v-model=\"form.date\" value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </div>\r\n                </div>\r\n\r\n                <pingzheng :yaoxinxi=\"yaoxinxi\" @geixinxi=\"geixinxi\" :qimo_editor_fanxian=\"qimo_editor_fanxian\" type=\"editor\"></pingzheng>\r\n\r\n                <div style=\"display: flex;justify-content: center;margin-top: 5vh;\">\r\n                    <el-button type=\"warning\" @click=\"yaoxinxi=new Date().getTime()\">保存</el-button>\r\n                    <el-button type=\"info\" style=\"margin-left: 5vw\" @click=\"$router.push({path: '/home/qimojiezhuan/one'})\">返回</el-button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <!--从现有发票选择对话框-->\r\n        <el-dialog title=\"\" :visible.sync=\"dialogVisible\" :close-on-press-escape=\"false\" :close-on-click-modal=\"false\">\r\n            <el-table :data=\"tableData1\" >\r\n                <el-table-column\r\n                        prop=\"\"\r\n                        label=\"单选\"\r\n                        width=\"60\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-radio v-model=\"id\" :label=\"scope.row.id\">&nbsp;</el-radio>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"creation_time\"\r\n                        label=\"上传时间\"\r\n                        width=\"\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"company_invoice_number\"\r\n                        label=\"发票号码\"\r\n                        width=\"\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"company_supplier_name\"\r\n                        label=\"供应商/客户名称\"\r\n                        width=\"\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"price_tax_total\"\r\n                        label=\"价税合计\"\r\n                        width=\"\">\r\n                </el-table-column>\r\n            </el-table>\r\n            <div style=\"display: flex;justify-content: flex-end;margin-top: 1vh\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"page\"\r\n                        :page-sizes=\"[10, 20, 30, 40]\"\r\n                        :page-size=\"pageSize\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"dialogVisible_ok\">确 定</el-button>\r\n             </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mix from \"@/mixins/mixins\"\r\n    import pingzheng from \"@/components/yuchunhui/add_pingzheng\"\r\n\r\n    export default {\r\n        name: \"xianjinliuliangbiao\",\r\n        mixins:[mix],\r\n        components:{\r\n            pingzheng\r\n        },\r\n\r\n\r\n        data() {\r\n            return {\r\n                yaoxinxi:false,\r\n                //给孩子要反显的信息\r\n                qimo_editor_fanxian:\"\",\r\n\r\n                certificate_uuid:\"\",\r\n                // 后台要的\r\n                flag1:'',\r\n                flag2:'',\r\n\r\n                form: {\r\n                    code: '',\r\n                    date: ''\r\n                },\r\n\r\n                user:{\r\n                    tableData:[]\r\n\r\n                },\r\n\r\n\r\n                dialogVisible:false,\r\n                tableData1:[],\r\n                id:'',\r\n                page:1,\r\n                pageSize:10,\r\n                total:0\r\n            }\r\n        },\r\n        mounted(){\r\n            this.getStorage()\r\n            this.get_jiezhuan_date()\r\n\r\n            this.fanxian()\r\n\r\n            if(this.$route.query.number == 1){\r\n                this.title='添加销售成本凭证'\r\n\r\n            }\r\n            if(this.$route.query.number == 2){\r\n                this.title='添加职工薪酬凭证'\r\n\r\n            }\r\n            if(this.$route.query.number == 3){\r\n                this.title='添加固定资产折旧凭证'\r\n\r\n            }\r\n            if(this.$route.query.number == 4){\r\n                this.title='添加长期摊销凭证'\r\n\r\n            }\r\n            if(this.$route.query.number == 5){\r\n                this.title='添加计提税金凭证'\r\n\r\n            }\r\n\r\n\r\n        },\r\n        methods: {\r\n            geixinxi(x,y){\r\n                this.user = x\r\n                this.ok()\r\n            },\r\n            ok(){\r\n                if(isNaN(Number(this.form.code)) || Number(this.form.code) <=0){\r\n                    this._message(2,\"凭证字号格式不正确\")\r\n                    return\r\n                }\r\n                let certificateAbstract = ''\r\n                let debitMoney = ''\r\n                let creditMoney = ''\r\n                let subject = ''\r\n                let code = ''\r\n                this.user.tableData.forEach(item=>{\r\n                    certificateAbstract += item.zhaiyao + ','\r\n                    if(item.jie == ''){\r\n                        debitMoney+= 0+','\r\n                    }else{\r\n                        debitMoney+= item.jie+','\r\n                    }\r\n\r\n                    if(item.dai == ''){\r\n                        creditMoney+= 0+','\r\n                    }else{\r\n                        creditMoney+= item.dai+','\r\n                    }\r\n\r\n                    // 处理有二级只要二级的分类\r\n                    if(item.name.split(\",\")[0].includes(\"-\")){\r\n                        subject += item.name.split(',')[0].split(\"-\")[1]+','\r\n                    }else{\r\n                        subject += item.name.split(',')[0]+','\r\n\r\n                    }\r\n                    code += item.name.split(',')[1]+','\r\n                    // subject += item.name.split(',')[0]+','\r\n                    // code += item.name.split(',')[1]+','\r\n                })\r\n\r\n                this._ajax('userAccounts/updateCertificate',{\r\n                    uuid:this.uuid,\r\n                    workAccountId:this.accountId,\r\n\r\n                    debitMoney,\r\n                    creditMoney,\r\n                    subject,\r\n                    code,\r\n                    certificateAbstract,\r\n\r\n                    flag1:this.flag1,\r\n                    flag2:this.flag2,\r\n\r\n                    certificateNumber:this.form.code,\r\n                    time:this.form.date,\r\n\r\n\r\n                    certificateUuid:this.certificate_uuid,\r\n\r\n                }, msg => {\r\n\r\n                    this._message(1,\"修改成功\")\r\n                    // this.$router.go(-1)\r\n                    this.$router.push('/home/qimojiezhuan/one')\r\n\r\n\r\n                    this.clear()\r\n                })\r\n            },\r\n\r\n\r\n            // 返显\r\n            fanxian(){\r\n                this._ajax('userHomePage/selectOverCertificate',{\r\n                    uuid:this.uuid,\r\n                    workAccountId:this.accountId,\r\n                    time:this.jiezhuan_date+ '-' + (Array(2).join(0) + new Date().getDate()).slice(-2),\r\n                    flag1:this.$route.query.number\r\n                }, msg => {\r\n                    // 保存后台要的\r\n                    this.flag1 = msg[0].flag1\r\n                    this.flag2 = msg[0].flag2\r\n\r\n                    this.form.code = msg[0].certificate_number\r\n                    this.form.date = msg[0].creationTime\r\n\r\n                    this.certificate_uuid = msg[0].certificate_uuid\r\n\r\n                    const x = []\r\n                    msg.forEach((item,index)=>{\r\n                        const y = {\r\n                            name:item.new_subjects_name + ',' + item.accountant_code,\r\n                            zhaiyao:item.certificate_abstract,\r\n                            jie:\"\",\r\n                            dai:\"\",\r\n                            index,\r\n                            jie_show:false,\r\n                            dai_show:false\r\n                        }\r\n                        if(item.total_credit_money == 0){\r\n                            y.dai_show = true\r\n                            y.jie = item.total_debit_money\r\n                        }\r\n                        if(item.total_debit_money == 0){\r\n                            y.jie_show = true\r\n                            y.dai = item.total_credit_money\r\n                        }\r\n                        x.push(y)\r\n                    })\r\n                    this.index = msg.length -1\r\n                    this.user.tableData = x\r\n                    this.qimo_editor_fanxian = x\r\n                    // this._message(1,\"返显成功\")\r\n                })\r\n            },\r\n\r\n            // 清除type1和fapiao\r\n            clear(){\r\n                sessionStorage.removeItem(\"type1\")\r\n                sessionStorage.removeItem(\"fapiao\")\r\n            },\r\n            // 因为更换日期时凭证字号可能会跟着变\r\n            pingzhengzihao(){\r\n                this._ajax('userHomePage/selectCertificateNumber',{\r\n                    uuid:this.uuid,\r\n                    workAccountId:this.accountId,\r\n                    time:this.form.date,\r\n                }, msg => {\r\n                    this.form.code = msg.number\r\n                    // this._message(1,\"凭证字号成功\")\r\n                })\r\n            },\r\n\r\n            // 从现有票据选择\r\n            congxianyoupiaojuxuanze(){\r\n                this.list_bind()\r\n            },\r\n            list_bind(){\r\n                this._ajax('userAccounts/selectNoInvoice',{\r\n                    uuid:this.uuid,\r\n                    workAccountId:this.accountId,\r\n                    page:this.page,\r\n                    pageSize:this.pageSize\r\n                }, msg => {\r\n                    this.tableData1 = msg.PageInfo.list\r\n                    this.total = msg.PageInfo.total\r\n\r\n                    this.dialogVisible = true\r\n                    // this._message(1,\"票据成功\")\r\n                })\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.pageSize = val\r\n                this.list_bind()\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.dangqianye = val\r\n                this.list_bind()\r\n            },\r\n            // 对话框的确定\r\n            dialogVisible_ok(){\r\n                if(this.id == 0){\r\n                    this._message(2,\"请选择一个\")\r\n                    return\r\n                }\r\n                sessionStorage.setItem(\"fapiao\",JSON.stringify(this.id))\r\n                sessionStorage.setItem(\"type1\",\"pipei_fapiao\")\r\n                this.dialogVisible = false\r\n            },\r\n\r\n\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .el-table .lan {\r\n        background: rgba(68, 160, 255, 0.05);\r\n    }\r\n\r\n    .has-gutter {\r\n        background: red !important;\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/qimojiezhuan/editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#FFF\",\"padding\":\"2vh 2vw\"}},[_c('div',{staticStyle:{\"font-size\":\"30px\",\"color\":\"#1C2023\",\"text-align\":\"center\"}},[_vm._v(\"修改凭证\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid #F8F8FF\",\"padding\":\"2vw\",\"margin-top\":\"2vh\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"flex-start\"}},[_c('div',[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"凭证字号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"号\"}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"日期：\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1)],1)]),_vm._v(\" \"),_c('pingzheng',{attrs:{\"yaoxinxi\":_vm.yaoxinxi,\"qimo_editor_fanxian\":_vm.qimo_editor_fanxian,\"type\":\"editor\"},on:{\"geixinxi\":_vm.geixinxi}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-top\":\"5vh\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.yaoxinxi=new Date().getTime()}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5vw\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.$router.push({path: '/home/qimojiezhuan/one'})}}},[_vm._v(\"返回\")])],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.dialogVisible,\"close-on-press-escape\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.tableData1}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"单选\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.id},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}},[_vm._v(\" \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"creation_time\",\"label\":\"上传时间\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_invoice_number\",\"label\":\"发票号码\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_supplier_name\",\"label\":\"供应商/客户名称\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price_tax_total\",\"label\":\"价税合计\",\"width\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"1vh\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogVisible_ok}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e36d22e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/qimojiezhuan/editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e36d22e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./editor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e36d22e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/qimojiezhuan/editor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}