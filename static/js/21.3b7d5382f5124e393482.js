webpackJsonp([21],{"1L87":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("4YfN"),o=a.n(n),i={name:"xianjinliuliangbiao",mixins:[a("IfhF").a],data:function(){return{id:"",tableData:[],total:0,dangqianye:1,pageSize:10,form:{comment:"",classify:"",startMoney:"",endMoney:"",timeMonth:(new Date).getFullYear()+"-"+(Array(2).join(0)+(Number((new Date).getMonth())+1)).slice(-2)}}},mounted:function(){this.getStorage(),this.list()},methods:{search:function(){this.dangqianye=1,this.list()},list:function(){var t=this;this._ajax("userAccounts/selectNoFlowing",o()({uuid:this.uuid,workAccountId:this.accountId,page:this.dangqianye,pageSize:this.pageSize},this.form),function(e){t.tableData=e.PageInfo.list,t.total=e.PageInfo.total})},save:function(){var t=this;if(""!=this.id){if("fapiaoguanli"==this.$route.query.from&&this._ajax("userAccounts/updateAccountFlag",{uuid:this.uuid,workAccountId:this.accountId,accountingId:this.id,invoiceId:this.$route.query.invoiceId},function(e){t._message(1,"保存成功"),t.$router.push({path:"/home/fapiao/fapiaoguanli"})}),"tianjiafapiao"==this.$route.query.from){if(""==this.id)return void this._message(2,"请至少选择一个");this._ajax("userAccounts/addFlowingWaterInvoice",o()({uuid:this.uuid,workAccountId:this.accountId},JSON.parse(sessionStorage.getItem("tianjiafapiao_data")),{type1:2,accountingId:this.id}),function(e){t._message(1,"保存成功"),sessionStorage.removeItem("tianjiafapiao_data"),t.$router.push({path:"/home/fapiao/fapiaoguanli"})})}}else this._message(2,"请至少选择一项")},tableRowClassName:function(t){t.row;return t.rowIndex%2!=0?"lan":""},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pageSize=t,this.list()},handleCurrentChange:function(t){console.log("当前页: "+t),this.dangqianye=t,this.list()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{background:"#FFF",padding:"2vw"}},[a("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v("匹配流水")]),t._v(" "),a("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vw","margin-top":"2vh"}},[a("div",{staticStyle:{"overflow-x":"auto",width:"100%","white-space":"nowrap"}},[a("el-form",{staticStyle:{display:"inline-block","vertical-align":"top"},attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{attrs:{placeholder:""},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类："}},[a("el-input",{attrs:{placeholder:""},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"金额："}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{placeholder:""},model:{value:t.form.startMoney,callback:function(e){t.$set(t.form,"startMoney",e)},expression:"form.startMoney"}})],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{placeholder:""},model:{value:t.form.endMoney,callback:function(e){t.$set(t.form,"endMoney",e)},expression:"form.endMoney"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"warning"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{staticStyle:{"margin-left":"20px"},attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"选择"},model:{value:t.form.timeMonth,callback:function(e){t.$set(t.form,"timeMonth",e)},expression:"form.timeMonth"}})],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",label:"单选",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.accountingId},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"creationTime",label:"日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"comment",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"classify",label:"分类"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subName&&e.row.classify?a("span",[t._v(t._s(e.row.subName)+" - "+t._s(e.row.classify))]):a("span")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"金额",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.direction?a("span",[t._v("+"+t._s(e.row.money))]):1==e.row.direction?a("span",[t._v("-"+t._s(e.row.money))]):2==e.row.direction?a("span",[t._v(t._s(e.row.money))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"支付方式",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.pay_money?a("span",[t._v("银行转账")]):1==e.row.pay_money?a("span",[t._v("现金支付")]):2==e.row.pay_money?a("span",[t._v("微信(公司)")]):3==e.row.pay_money?a("span",[t._v("微信(法人)")]):4==e.row.pay_money?a("span",[t._v("支付宝(公司)")]):5==e.row.pay_money?a("span",[t._v("支付宝(法人)")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"certificate_number",label:"凭证字号",width:"180"}})],1)],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"1vh"}},[a("el-pagination",{attrs:{"current-page":t.dangqianye,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"2vh"}},[a("el-button",{attrs:{type:"warning"},on:{click:t.save}},[t._v("保存")]),t._v(" "),"fapiaoguanli"==t.$route.query.from?a("el-button",{staticStyle:{"margin-left":"3vw"},attrs:{type:"info"},on:{click:function(e){return t.$router.push({path:"/home/fapiao/fapiaoguanli"})}}},[t._v("返回")]):t._e(),t._v(" "),"tianjiafapiao"==t.$route.query.from?a("el-button",{staticStyle:{"margin-left":"3vw"},attrs:{type:"info"},on:{click:function(e){return t.$router.push({path:"/home/pingzhengguanli/xinzengfapiao",query:{from:"fapiaoguanli"}})}}},[t._v("返回")]):t._e()],1)])])},staticRenderFns:[]};var r=a("C7Lr")(i,l,!1,function(t){a("z/7b")},null,null);e.default=r.exports},"z/7b":function(t,e){}});
//# sourceMappingURL=21.3b7d5382f5124e393482.js.map