webpackJsonp([7],{"4aa6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"xianjinliuliangbiao",mixins:[i("IfhF").a],data:function(){return{invoiceId:"",liushuiId:"",tableData1:[],dialogVisible1:!1,dangqianye1:1,pageSize1:10,total1:0,dialogVisible:!1,dialogFormVisible:!1,form:{date:JSON.parse(sessionStorage.getItem("liushui_date")),code:"",name:""},tableData:[],total:100,dangqianye:1,multi:"",swit:""}},mounted:function(){this.getStorage(),this.get_liushui_date(),this.list()},methods:{congxianyoupiaojuxuanze:function(t){this.liushuiId=t,this.list_bind()},list_bind:function(){var t=this;this._ajax("userAccounts/selectNoInvoice3",{uuid:this.uuid,workAccountId:this.accountId,page:this.dangqianye1,pageSize:this.pageSize1},function(e){t.tableData1=e.PageInfo.list,t.total1=e.PageInfo.total,t.dialogVisible1=!0})},dialogVisible1_ok:function(){var t=this;""!=this.invoiceId?this._ajax("userAccounts/updateAccountFlag",{uuid:this.uuid,workAccountId:this.accountId,accountingId:this.liushuiId,invoiceId:this.invoiceId},function(e){t.dialogVisible1=!1,t._message(1,"关联成功"),t.list()}):this._message(2,"请至少选择一项")},handleSizeChange1:function(t){console.log("每页 "+t+" 条"),this.pageSize1=t,this.list_bind()},handleCurrentChange1:function(t){console.log("当前页: "+t),this.dangqianye1=t,this.list_bind()},change_date:function(){this.list()},list:function(){var t=this;this._ajax("userAccounts/selectFlowingWater",{uuid:this.uuid,workAccountId:this.accountId,creationTime:this.form.date},function(e){t.tableData=e})},jiechu_fapiao:function(t,e){var i=this;this._ajax("userAccounts/deleteFlowingInvoice",{uuid:this.uuid,workAccountId:this.accountId,invoiceId:e,accountingId:t},function(t){i._message(1,"取消关联发票成功"),i.list()})},shengcheng_pingzheng:function(t){this.$router.push({path:"/home/pingzhengguanli/add_pingzheng",query:{accountingId:t,from:"liushuiguanli"}})},shangchuan_fapiao:function(t){this.$router.push({path:"/home/pingzhengguanli/xinzengfapiao",query:{accountingId:t,from:"liushuiguanli"}})},jiechu_pingzheng:function(t,e){var i=this;this._ajax("userAccounts/deleteInvoiceCrtificate",{uuid:this.uuid,workAccountId:this.accountId,invoiceId:t,certificateUuid:e},function(t){i._message(1,"取消关联凭证成功"),i.list()})},del:function(t){var e=this;this._ajax("userAccounts/deleteFlowingWater",{uuid:this.uuid,workAccountId:this.accountId,accountingId:t},function(t){e._message(1,"删除成功"),e.list()})},tableRowClassName:function(t){t.row;return t.rowIndex%2!=0?"lan":""},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},handleSelectionChange:function(t){this.multi=t,console.log(this.multi)},handleClick:function(t){console.log(t),this.$router.push({path:"/home/fapiao/fapiaoguanli_xiugai"})},delClick:function(t){console.log(t)},add:function(){},set:function(){this.$router.push({path:"/home/manage/set"})},editor:function(){}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"",visible:t.dialogVisible1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible1=e}}},[n("el-table",{attrs:{data:t.tableData1}},[n("el-table-column",{attrs:{prop:"",label:"单选",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-radio",{attrs:{label:e.row.id},model:{value:t.invoiceId,callback:function(e){t.invoiceId=e},expression:"invoiceId"}},[t._v(" ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"creation_time",label:"上传时间",width:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"company_invoice_number",label:"发票号码",width:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"company_supplier_name",label:"供应商/客户名称",width:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"price_tax_total",label:"价税合计",width:""}})],1),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"1vh"}},[n("el-pagination",{attrs:{"current-page":t.dangqianye1,"page-sizes":[10,20,30,40],"page-size":t.pageSize1,layout:"total, sizes, prev, pager, next, jumper",total:t.total1},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.dialogVisible1_ok}},[t._v("确 定")])],1)],1),t._v(" "),n("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw","margin-bottom":"10vh"}},[n("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v("流水")]),t._v(" "),n("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[n("div",{staticStyle:{display:"flex"}},[n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.$router.push({path:"/home/jizhang/index"})}}},[t._v("记一笔")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.$router.push({path:"/home/qimojiezhuan/one",query:{date:t.$route.query.date}})}}},[t._v("期末结转")]),t._v(" "),n("el-date-picker",{staticStyle:{"margin-left":"1vw"},attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"选择日期"},on:{change:t.change_date},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)]),t._v(" "),n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"creationTime",label:"日期",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"comment",label:"描述"}}),t._v(" "),n("el-table-column",{attrs:{prop:"",label:"分类",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subName&&e.row.classify?n("span",[t._v(t._s(e.row.subName)+" - "+t._s(e.row.classify))]):n("span")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"money",label:"金额",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.direction?n("span",[t._v("+"+t._s(e.row.money))]):1==e.row.direction?n("span",[t._v("-"+t._s(e.row.money))]):2==e.row.direction?n("span",[t._v(t._s(e.row.money))]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"pay_money",label:"支付方式",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.pay_money?n("span",[t._v("银行转账")]):1==e.row.pay_money?n("span",[t._v("现金支付")]):2==e.row.pay_money?n("span",[t._v("微信(公司)")]):3==e.row.pay_money?n("span",[t._v("微信(法人)")]):4==e.row.pay_money?n("span",[t._v("支付宝(公司)")]):5==e.row.pay_money?n("span",[t._v("支付宝(法人)")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"certificate_number",label:"凭证字号"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.certificate_number?n("span",[t._v("\n                                "+t._s(e.row.certificate_number)+"\n                                ")]):n("span",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.shengcheng_pingzheng(e.row.accountingId)}}},[t._v("生成")])])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"查看票据",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.invoiceId?n("span",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.$router.push({path:"/home/pingzhengguanli/look_fapiao",query:{invoiceId:e.row.invoiceId}})}}},[t._v("查看")]),t._v(" "),n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.jiechu_fapiao(e.row.accountingId,e.row.invoiceId)}}},[t._v("解除关联")])]):n("span",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.congxianyoupiaojuxuanze(e.row.accountingId)}}},[t._v("关联")]),t._v(" "),n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.shangchuan_fapiao(e.row.accountingId)}}},[t._v("上传")])])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.$router.push({path:"/home/jizhang/index",query:{accountingId:e.row.accountingId}})}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.del(e.row.accountingId)}}},[t._v("删除")])]}}])})],1)],1)])]),t._v(" "),n("el-dialog",{attrs:{title:"",visible:t.dialogFormVisible,width:"20%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"认证日期"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{staticStyle:{width:"100%"},attrs:{src:i("sQAo"),alt:""}})])],1)},staticRenderFns:[]};var a=i("C7Lr")(n,o,!1,function(t){i("yRjE")},null,null);e.default=a.exports},sQAo:function(t,e,i){t.exports=i.p+"static/img/one.f7f177d.png"},yRjE:function(t,e){}});
//# sourceMappingURL=7.267f905215a2493381bc.js.map