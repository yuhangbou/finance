webpackJsonp([27],{NejN:function(e,t){},"W/ZS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("3cXf"),r=a.n(s),i=a("4YfN"),n=a.n(i),l=(a("luk7"),a("7yAV")),o=a.n(l),u=(a("HZWW"),{name:"login",data:function(){return{shengList:[],shiList:[],xianList:[],sheng:"",shi:"",xian:"",list:[],user:{workAccountName:"",userName:"",workCity:"",workAddress:"",companyTaxType:"",workType:"",accountingStandards:"",job:"",workAccountNickname:"",enableTime:(new Date).getFullYear()+"-"+(Array(2).join(0)+(Number((new Date).getMonth())+1)).slice(-2)+"-"+(Array(2).join(0)+Number((new Date).getDate())).slice(-2),aloneAccountFlag:"",workHeadPhoto:""},rules:{userName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],companyTaxType:[{required:!0,message:"请选择增值税种类",trigger:"change"}],enableTime:[{required:!0,message:"请选择账套启用日期",trigger:"change"}],workType:[{required:!0,message:"请选择行业",trigger:"change"}],workAddress:[{required:!0,message:"请输入详细地址",trigger:"blue"}],accountingStandards:[{required:!0,message:"请选择会计准则",trigger:"change"}]},select:{province:"",city:"",area:""}}},mounted:function(){var e=this;this._ajax("weChatLogin/jobList",{},function(t){e.list=t[0].name.split(",")}),this._ajax("userLogin/province",{workAccountId:this.accountId,uuid:this.uuid},function(t){e.shengList=t})},methods:{change_sheng:function(e){var t=this;this.sheng=e.name,this.shi="",this.xian="",this._ajax("userLogin/city",{workAccountId:this.accountId,uuid:this.uuid,id:e.id},function(e){t.shiList=e})},change_shi:function(e){var t=this;this.shi=e.name,this.xian="",this._ajax("userLogin/area",{workAccountId:this.accountId,uuid:this.uuid,id:e.id},function(e){t.xianList=e})},change_xian:function(e){this.xian=e.name},change:function(e){var t=this;if(void 0==e)return!1;var a=e.name,s=a.substr(a.lastIndexOf(".")),r="user-herder"+Date.parse(new Date)/1e3+s;new o.a.Wrapper(this.$ali).multipartUpload(r,e.raw).then(function(e){t.user.workHeadPhoto=e.res.requestUrls[0].split("?")[0],t.$message({message:"上传成功",type:"success"})}).catch(function(e){console.log(e),t.$message({message:"服务器繁忙，请稍后再试",type:"error"})})},selected:function(){this.user.workCity=this.sheng+","+this.shi+","+this.xian},hjSubmite:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.selected(),t._ajax("userLogin/addUserCompany",n()({},t.user,{uuid:JSON.parse(localStorage.getItem("uuid"))}),function(e){localStorage.setItem("workAccountId",r()(e.id)),t._message(1,"提交成功"),t.$router.push({path:"/home"})})})}}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hj-login"},[a("div",{staticClass:"hj-login-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.hjSubmite("user")}}},[a("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[e._v("录入公司信息")]),e._v(" "),a("div",{staticStyle:{"border-bottom":"1px solid #D6DFE8",margin:"2vh"}}),e._v(" "),a("el-form",{ref:"user",attrs:{rules:e.rules,"label-width":"150px",model:e.user}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"5vh"}},[a("div",{staticStyle:{flex:"6"}},[a("el-form-item",{attrs:{label:"公司名称：",prop:"userName"}},[a("el-input",{staticClass:"hj-ipt",attrs:{type:"text",placeholder:"请输入公司名称"},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在城市："}},[a("el-col",{attrs:{span:7}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择省"},on:{change:e.change_sheng},model:{value:e.sheng,callback:function(t){e.sheng=t},expression:"sheng"}},e._l(e.shengList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请先选择省"},on:{change:e.change_shi},model:{value:e.shi,callback:function(t){e.shi=t},expression:"shi"}},e._l(e.shiList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请先选择市"},on:{change:e.change_xian},model:{value:e.xian,callback:function(t){e.xian=t},expression:"xian"}},e._l(e.xianList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"增值税种类：",prop:"companyTaxType"}},[a("el-radio-group",{model:{value:e.user.companyTaxType,callback:function(t){e.$set(e.user,"companyTaxType",t)},expression:"user.companyTaxType"}},[a("el-radio",{attrs:{label:0}},[e._v("小规模纳税人")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("一般纳税人")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"您的职务："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.job,callback:function(t){e.$set(e.user,"job",t)},expression:"user.job"}},[a("el-option",{attrs:{label:"上层部门（董事长、总经理、总经理秘书）",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"财务部门（财务总监（主管）、会计（总账会计、成本会计、往来会计）、出纳",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"人事部门（人事经理（主管）、人事助理（文员）",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"其他部门",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"请为本账套命名(可选)："}},[a("el-input",{attrs:{type:"text",placeholder:"默认公司名称"},model:{value:e.user.workAccountName,callback:function(t){e.$set(e.user,"workAccountName",t)},expression:"user.workAccountName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账套启用日期：",prop:"enableTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"默认当前日期","value-format":"yyyy-MM-dd"},model:{value:e.user.enableTime,callback:function(t){e.$set(e.user,"enableTime",t)},expression:"user.enableTime"}}),e._v(" "),a("div",{staticStyle:{"font-size":"14px",color:"#8F97A4"}},[e._v("账套启用年月一旦设定不能更改")])],1)],1),e._v(" "),a("div",{staticStyle:{flex:"5"}},[a("el-form-item",{attrs:{label:"行业：",prop:"workType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.workType,callback:function(t){e.$set(e.user,"workType",t)},expression:"user.workType"}},e._l(e.list,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址：",prop:"workAddress"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入详细地址"},model:{value:e.user.workAddress,callback:function(t){e.$set(e.user,"workAddress",t)},expression:"user.workAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会计准则：",prop:"accountingStandards"}},[a("el-radio-group",{model:{value:e.user.accountingStandards,callback:function(t){e.$set(e.user,"accountingStandards",t)},expression:"user.accountingStandards"}},[a("el-radio",{attrs:{label:0}},[e._v("小企业会计准则")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("企业会计准则")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"头像："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"auto-upload":!1,action:"#","show-file-list":!1,"on-change":e.change}},[e.user.workHeadPhoto?a("img",{staticClass:"avatar",attrs:{src:e.user.workHeadPhoto}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{width:"300px"},attrs:{type:"warning"},on:{click:function(t){return e.hjSubmite("user")}}},[e._v("进入财税管家")])],1)])],1)])},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("NejN")},null,null);t.default=d.exports}});
//# sourceMappingURL=27.eeeafcf3feb5838e67bb.js.map