webpackJsonp([13],{kGmV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("4YfN"),r=s.n(a),l={name:"xianjinliuliangbiao",mixins:[s("IfhF").a],data:function(){return{list:[],user:{},rules:{assetName:[{required:!0,message:"请输入资产名称",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始使用日期",trigger:"change"}],zMoeny:[{required:!0,message:"请输入资产原值",trigger:"blur"}],setMonth:[{required:!0,message:"请输入预计使用月份",trigger:"blur"}],setZMoney:[{required:!0,message:"请输入累计折旧",trigger:"blur"}],assetClassify:[{required:!0,message:"请选择资产类别",trigger:"change"}],name:[{required:!0,message:"请选择科目",trigger:"change"}],flag:[{required:!0,message:"请选择企业类别",trigger:"change"}],getMonth:[{required:!0,message:"请输入已折旧月份",trigger:"blur"}],getZMoney:[{required:!0,message:"请输入减值准备",trigger:"blur"}]}}},watch:{"user.setMonth":{handler:function(e,t){this.user.endMonth=this.user.setMonth-this.user.getMonth}},"user.getMonth":{handler:function(e,t){this.user.endMonth=this.user.setMonth-this.user.getMonth}},"user.residualValue":{handler:function(e,t){this.user.zheJiu=this.user.zMoeny*(1-.01*this.user.residualValue)/this.user.endMonth}},"user.zMoeny":{handler:function(e,t){this.user.zheJiu=this.user.zMoeny*(1-.01*this.user.residualValue)/this.user.endMonth}},"user.shengyu":{handler:function(e,t){this.user.zheJiu=this.user.zMoeny*(1-.01*this.user.residualValue)/this.user.endMonth}},"user.assetClassify":{handler:function(e,t){1==this.user.assetClassify||1==this.user.flag?this.user.residualValue=10:this.user.residualValue=5}},"user.flag":{handler:function(e,t){1==this.user.assetClassify||1==this.user.flag?this.user.residualValue=10:this.user.residualValue=5}}},mounted:function(){var e=this;this.getStorage(),this.get_jiezhuan_date(),this._ajax("userAccounts/selectSubjectsDictionary1",{uuid:this.uuid,workAccountID:this.accountId,name:"",parentId:1601},function(t){e.list=t,e._ajax("userHomePage/selectOldCargoById",{uuid:e.uuid,workAccountId:e.accountId,id:e.$route.query.id},function(t){e.user=t,e.user.residualValue=e.user.residualValue.toString()+"%"})})},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t._ajax("userHomePage/updateOldCargoById",r()({uuid:t.uuid,workAccountId:t.accountId},t.user,{type:t.user.assetClassify,name:t.user.assetName,subjectsName:t.user.name,id:t.$route.query.id}),function(e){t.$router.push("/home/qimojiezhuan/fixed_assets_management"),t._message(1,"修改成功")})})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw"}},[s("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[e._v("修改固定资产管理")]),e._v(" "),s("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[s("div",[s("el-form",{ref:"user",attrs:{rules:e.rules,"label-width":"130px",model:e.user}},[s("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"5vh"}},[s("div",{staticStyle:{flex:"1"}},[s("el-form-item",{attrs:{label:"资产名称：",prop:"assetName"}},[s("el-input",{staticClass:"hj-ipt",attrs:{type:"text",placeholder:""},model:{value:e.user.assetName,callback:function(t){e.$set(e.user,"assetName",t)},expression:"user.assetName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"开始使用日期：",prop:"startDate"}},[s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"默认当日日期"},model:{value:e.user.startDate,callback:function(t){e.$set(e.user,"startDate",t)},expression:"user.startDate"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"资产原值：",prop:"zMoeny"}},[s("el-input",{staticClass:"hj-ipt",attrs:{type:"text",placeholder:""},model:{value:e.user.zMoeny,callback:function(t){e.$set(e.user,"zMoeny",t)},expression:"user.zMoeny"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"预计使用月份：",prop:"setMonth"}},[s("el-input",{staticClass:"hj-ipt",attrs:{type:"text",placeholder:""},model:{value:e.user.setMonth,callback:function(t){e.$set(e.user,"setMonth",t)},expression:"user.setMonth"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"累计折旧：",prop:"setZMoney"}},[s("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.user.setZMoney,callback:function(t){e.$set(e.user,"setZMoney",t)},expression:"user.setZMoney"}})],1)],1),e._v(" "),s("div",{staticStyle:{flex:"1","margin-left":"2vw"}},[s("el-form-item",{attrs:{label:"资产类别：",prop:"assetClassify"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.assetClassify,callback:function(t){e.$set(e.user,"assetClassify",t)},expression:"user.assetClassify"}},[s("el-option",{attrs:{label:"1-房屋、建筑物",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"2-机器机械生产设备",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"3-器具工具家具",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"4-运输工具",value:"4"}}),e._v(" "),s("el-option",{attrs:{label:"5-电子设备",value:"5"}}),e._v(" "),s("el-option",{attrs:{label:"6-其他固定资产",value:"6"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"选择科目：",prop:"name"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}},e._l(e.list,function(e){return s("el-option",{key:e.id,attrs:{label:e.subjects_name,value:e.subjects_name}})}),1)],1),e._v(" "),s("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[s("div",[s("el-form-item",{attrs:{label:"企业类别：",prop:"flag"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.flag,callback:function(t){e.$set(e.user,"flag",t)},expression:"user.flag"}},[s("el-option",{attrs:{label:"内资",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"外资",value:"1"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"已折旧月份：",prop:"getMonth"}},[s("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.user.getMonth,callback:function(t){e.$set(e.user,"getMonth",t)},expression:"user.getMonth"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"减值准备：",prop:"getZMoney"}},[s("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.user.getZMoney,callback:function(t){e.$set(e.user,"getZMoney",t)},expression:"user.getZMoney"}})],1)],1),e._v(" "),s("div",[s("el-form-item",{attrs:{label:"残值率："}},[s("el-input",{attrs:{disabled:"",type:"text",placeholder:""},model:{value:e.user.residualValue,callback:function(t){e.$set(e.user,"residualValue",t)},expression:"user.residualValue"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"剩余使用月份："}},[s("el-input",{attrs:{disabled:"",type:"text",placeholder:""},model:{value:e.user.endMonth,callback:function(t){e.$set(e.user,"endMonth",t)},expression:"user.endMonth"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"每月折旧额："}},[s("el-input",{attrs:{disabled:"",type:"text",placeholder:""},model:{value:e.user.zheJiu,callback:function(t){e.$set(e.user,"zheJiu",t)},expression:"user.zheJiu"}})],1)],1)])],1)]),e._v(" "),s("el-form-item",[s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.submitForm("user")}}},[e._v("保存")]),e._v(" "),s("el-button",{staticStyle:{"margin-left":"3vw"},attrs:{type:"info"},on:{click:function(t){return e.$router.push({path:"/home/qimojiezhuan/fixed_assets_management"})}}},[e._v("返回")])],1)])],1)],1)])])])},staticRenderFns:[]};var i=s("C7Lr")(l,u,!1,function(e){s("zpbd")},null,null);t.default=i.exports},zpbd:function(e,t){}});
//# sourceMappingURL=13.76db2cbc50ea61814385.js.map