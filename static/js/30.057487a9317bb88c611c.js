webpackJsonp([30],{"0qA2":function(t,a){},Rj6g:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("4YfN"),n=e.n(o),i={name:"xianjinliuliangbiao",mixins:[e("IfhF").a],data:function(){return{form:{location:"",company:"",person:""},area_list:[],tableData:[],total:0,dangqianye:1,pageSize:10,dialogFormVisible:!1,title:""}},mounted:function(){var t=this;this.getStorage(),this._ajax("userLogin/province",{},function(a){t.area_list=a,t._ajax("userCompany/selectInsurance",{uuid:t.uuid,accountId:t.accountId},function(a){t.tableData.push({name:"养老保险金",company:a.old_work,person:a.old_user}),t.tableData.push({name:"医疗保险金",company:a.medical_work,person:a.medical_user}),t.tableData.push({name:"失业保险金",company:a.nojob_work,person:a.nojob_user}),t.tableData.push({name:"工伤保险金",company:a.over_work,person:a.over_user}),t.tableData.push({name:"生育保险金",company:a.make_work,person:a.make_user}),t.tableData.push({name:"住房公积金",company:a.home_work,person:a.home_user}),t.form.location=a.area})})},methods:{ok:function(){var t=this,a=this.tableData.findIndex(function(a){return a.name==t.title});this.tableData[a].company=this.form.company+"%",this.tableData[a].person=this.form.person+"%",this.form.company="",this.form.person="",this.dialogFormVisible=!1},ok_cancel:function(){this.form.company="",this.form.person="",this.dialogFormVisible=!1},wuxianyijin_set:function(t){this.title=t.name,this.form.company=t.company.split("%")[0],this.form.person=t.person.split("%")[0],this.dialogFormVisible=!0},save:function(){var t=this,a={oldUser:this.tableData[0].person,oldWork:this.tableData[0].company,medicalUser:this.tableData[1].person,medicalWork:this.tableData[1].company,nojobUser:this.tableData[2].person,nojobWork:this.tableData[2].company,makeUser:this.tableData[4].person,makeWork:this.tableData[4].company,overUser:this.tableData[3].person,overWork:this.tableData[3].company,homeUser:this.tableData[5].person,homeWork:this.tableData[5].company,area:this.form.location};this._ajax("userCompany/updateInsurance",n()({},a,{uuid:this.uuid,accountId:this.accountId}),function(a){t._message(1,"修改成功"),t.$router.push({path:"/home/wuxianyijin/wuxianyijin"})})},tableRowClassName:function(t){t.row;return t.rowIndex%2!=0?"lan":""}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw"}},[e("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v("五险一金设置")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[e("div",[e("el-form",{ref:"form",attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"地区:"}},[e("el-select",{attrs:{placeholder:"请选择地区"},model:{value:t.form.location,callback:function(a){t.$set(t.form,"location",a)},expression:"form.location"}},t._l(t.area_list,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1)],1)],1),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[e("el-table-column",{attrs:{prop:"name",label:"缴纳项目",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"company",label:"公司缴纳比例"}}),t._v(" "),e("el-table-column",{attrs:{prop:"person",label:"个人缴纳比例"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.wuxianyijin_set(a.row)}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"2vh"}},[e("el-button",{attrs:{type:"warning"},on:{click:t.save}},[t._v("保存")]),t._v(" "),e("el-button",{staticStyle:{"margin-left":"10vw"},attrs:{type:"info"},on:{click:function(a){return t.$router.push({path:"/home/wuxianyijin/wuxianyijin"})}}},[t._v("取消")])],1)])]),t._v(" "),e("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,width:"20%","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"公司缴纳比例","label-width":"100px"}},[e("el-col",{attrs:{span:20}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.company,callback:function(a){t.$set(t.form,"company",a)},expression:"form.company"}})],1),t._v(" "),e("el-col",{attrs:{span:3,offset:1}},[t._v("\n                    %\n                ")])],1),t._v(" "),e("el-form-item",{attrs:{label:"个人缴纳比例","label-width":"100px"}},[e("el-col",{attrs:{span:20}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.person,callback:function(a){t.$set(t.form,"person",a)},expression:"form.person"}})],1),t._v(" "),e("el-col",{attrs:{span:3,offset:1}},[t._v("\n                    %\n                ")])],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.ok_cancel}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=e("C7Lr")(i,l,!1,function(t){e("0qA2")},null,null);a.default=r.exports}});
//# sourceMappingURL=30.057487a9317bb88c611c.js.map