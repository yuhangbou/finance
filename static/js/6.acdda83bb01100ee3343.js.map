{"version":3,"sources":["webpack:///src/pages/pingzhengguanli/add_pingzheng.vue","webpack:///./src/pages/pingzhengguanli/add_pingzheng.vue?9615","webpack:///./src/pages/pingzhengguanli/add_pingzheng.vue","webpack:///src/components/yuchunhui/add_fapiao.vue","webpack:///./src/components/yuchunhui/add_fapiao.vue?11db","webpack:///./src/components/yuchunhui/add_fapiao.vue"],"names":["pingzhengguanli_add_pingzheng","name","inject","mixins","components","addFaPiao","add_fapiao","pingzheng","add_pingzheng","data","guding_form","close_guding","yaoxinxi","reload1","shui_btn","pickerOptions","disabledDate","time","getTime","Date","JSON","parse","localStorage","getItem","fapiaozujian_kaiguan","form","code","date","getFullYear","Array","join","Number","getMonth","slice","getDate","user","tableData","zhaiyao","jie","dai","jie_show","dai_show","index","tableData1","total","page","pageSize","dialogVisible","id","mounted","this","getStorage","pingzhengzihao","methods","ok_liushui_guding","_this","certificateAbstract","totalDebitMoney","totalCreditMoney","accountantSubject","accountantCode","forEach","item","split","_ajax","extends_default","uuid","workAccountId","accountId","certificateNumber","accountingId","$route","query","type1","type2","msg","_message","$router","go","ok_fapiao_guding","_this2","invoiceId","ok_pingzheng_guding","_this3","sessionStorage","clear","reload","geiguding","x","$store","state","gdzc","console","log","_this4","number","fanhui","ok","type","isNaN","ok_liushui","_this5","ok_fapiao","_this6","ok_pingzheng","_this7","geixinxi","y","removeItem","congxianyoupiaojuxuanze","list_bind","_this8","PageInfo","list","handleSizeChange","val","handleCurrentChange","dangqianye","dialogVisible_ok","setItem","stringify_default","pages_pingzhengguanli_add_pingzheng","render","_vm","_h","$createElement","_c","_self","staticStyle","background","padding","margin-bottom","font-size","color","text-align","_v","border","margin-top","display","flex-wrap","staticClass","attrs","inline","model","label","placeholder","value","callback","$$v","$set","expression","picker-options","value-format","on","change","from","margin-left","_e","click","$event","justify-content","margin-right","title","visible","update:visible","prop","width","scopedSlots","_u","key","fn","scope","row","current-page","page-sizes","page-size","layout","size-change","current-change","slot","fapiaozujian","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","addHuoBan","add_yewuhuoban","company_supplier_name","_rules","show_huoban","invoicePhoto1","invoiceType","invoicingDate","authenticationDate","invoiceNumber","supplierType","supplierName","money","taxRate","priceTaxTotal","invoicePhoto","rules","required","message","trigger","defineProperty_default","show_huoban_ok_cancel","submitForm","formName","$refs","validate","valid","$emit","file","$message","duration","reader","FileReader","readAsDataURL","raw","onload","encode","result","close","Object","prototype","toString","call","hasOwnProperty","pretax_amount","tax","toFixed","length","undefined","fName","suffix","substr","lastIndexOf","storeAs","browser_default","a","Wrapper","$ali","multipartUpload","then","res","requestUrls","catch","err","yuchunhui_add_fapiao","show-close","close-on-click-modal","close-on-press-escape","on-change","action","show-file-list","auto-upload","ref","label-width","span","_l","offset","icon","add_huoban_ok"],"mappings":"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","file":"static/js/6.acdda83bb01100ee3343.js","sourcesContent":["<template>\n    <div>\n        <div style=\"background: #FFF;padding: 2vh 2vw;margin-bottom: 10vh\">\n            <div style=\"font-size: 30px;color: #1C2023;text-align: center;\">新增凭证</div>\n            <div style=\"border: 1px solid #F8F8FF;padding: 2vh 2vw;margin-top: 2vh\">\n\n                <div style=\"display: flex;flex-wrap: wrap\">\n\n                    <div>\n                        <el-form :inline=\"true\" :model=\"form\" class=\"demo-form-inline\">\n                            <el-form-item label=\"凭证字号：\">\n                                <el-input v-model=\"form.code\" placeholder=\"\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"号\">\n                            </el-form-item>\n                            <el-form-item label=\"日期：\">\n                                <el-date-picker :picker-options=\"pickerOptions\" @change=\"pingzhengzihao\" type=\"date\" placeholder=\"\" v-model=\"form.date\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                            </el-form-item>\n                        </el-form>\n                    </div>\n\n                    <div v-if=\"$route.query.from != 'liushuiguanli'\" style=\"margin-left: 1vw\">\n                        <el-button type=\"warning\" @click=\"fapiaozujian_kaiguan=true\" v-if=\"!$route.query.from\">上传票据</el-button>\n                        <el-button type=\"warning\" @click=\"congxianyoupiaojuxuanze\" v-if=\"!$route.query.from\">从现有票据选择</el-button>\n                    </div>\n\n                </div>\n\n                <pingzheng :yaoxinxi=\"yaoxinxi\" @geixinxi=\"geixinxi\" type=\"add_pingzheng\" @geiguding=\"geiguding\" :close_guding=\"close_guding\"></pingzheng>\n\n                <div style=\"display: flex;justify-content: center;margin-top: 5vh;\" v-if=\"$route.query.from != 'liushuiguanli' && $route.query.from!= 'fapiaoguanli'\">\n                    <el-button type=\"warning\" style=\"margin-right: 5vw\" @click=\"ok(1,'reload')\">保存并新增</el-button>\n                    <el-button type=\"warning\" @click=\"ok(1)\">保存</el-button>\n                    <el-button type=\"info\" style=\"margin-left: 5vw\" @click=\"fanhui\">返回</el-button>\n                </div>\n\n                <div style=\"display: flex;justify-content: center;margin-top: 5vh;\" v-if=\"$route.query.from == 'liushuiguanli'\">\n                    <el-button type=\"warning\" @click=\"ok('liushuiguanli')\">保存</el-button>\n                    <el-button type=\"info\" style=\"margin-left: 5vw\" @click=\"fanhui\">返回</el-button>\n                </div>\n\n                <div style=\"display: flex;justify-content: center;margin-top: 5vh;\" v-if=\"$route.query.from == 'fapiaoguanli'\">\n                    <el-button type=\"warning\" @click=\"ok('fapiaoguanli')\">保存</el-button>\n                    <el-button type=\"info\" style=\"margin-left: 5vw\" @click=\"fanhui\">返回</el-button>\n                </div>\n\n\n            </div>\n        </div>\n\n        <!--从现有发票选择-->\n        <el-dialog title=\"\" :visible.sync=\"dialogVisible\">\n            <el-table :data=\"tableData1\">\n                <el-table-column\n                        prop=\"\"\n                        label=\"单选\"\n                        width=\"60\">\n                    <template slot-scope=\"scope\">\n                        <el-radio v-model=\"id\" :label=\"scope.row.id\">&nbsp;</el-radio>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        prop=\"creation_time\"\n                        label=\"上传时间\"\n                        width=\"\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"company_invoice_number\"\n                        label=\"发票号码\"\n                        width=\"\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"company_supplier_name\"\n                        label=\"供应商/客户名称\"\n                        width=\"\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"price_tax_total\"\n                        label=\"价税合计\"\n                        width=\"\">\n                </el-table-column>\n            </el-table>\n            <div style=\"display: flex;justify-content: flex-end;margin-top: 1vh\">\n                <el-pagination\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page=\"page\"\n                        :page-sizes=\"[10, 20, 30, 40]\"\n                        :page-size=\"pageSize\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=\"total\">\n                </el-pagination>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"dialogVisible_ok\">确 定</el-button>\n             </span>\n        </el-dialog>\n        <!--上传发票组件-->\n        <addFaPiao v-if=\"fapiaozujian_kaiguan\" @fapiaozujian=\"fapiaozujian_kaiguan = false\"></addFaPiao>\n\n    </div>\n</template>\n\n<script>\n    import mix from \"@/mixins/mixins\"\n    import addFaPiao from \"@/components/yuchunhui/add_fapiao\"\n    import pingzheng from \"@/components/yuchunhui/add_pingzheng\"\n\n    export default {\n        name: \"xianjinliuliangbiao\",\n        inject:['reload'],\n        mixins:[mix],\n        components:{\n            addFaPiao,\n            pingzheng\n        },\n        data() {\n            return {\n                guding_form:\"\",\n                close_guding:false,\n\n                //让添加凭证组件检查数据\n                yaoxinxi:false,\n                reload1:false,\n                shui_btn:\"\",\n                //控制不展示账套启用之前的日期\n                pickerOptions: {\n                    disabledDate(time) {\n                        return time.getTime() < new Date(JSON.parse(localStorage.getItem('start_date'))) - 24 * 3600 * 1000;\n                    },\n                },\n                // 发票组件的开关\n                fapiaozujian_kaiguan:false,\n\n                form: {\n                    code: '',\n                    date: new Date().getFullYear() + '-' + (Array(2).join(0) + (Number(new Date().getMonth())+1)).slice(-2) + '-' + (Array(2).join(0) + new Date().getDate()).slice(-2)\n                },\n\n                user:{\n                    tableData: [{name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:0},\n                        {name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:1}],\n\n                },\n\n                //从现有发票选择\n                tableData1:[],\n                total: 0,\n                page: 1,\n                pageSize:10,\n                dialogVisible:false,\n                id:'',\n            }\n        },\n        mounted(){\n            this.getStorage()\n            this.pingzhengzihao()\n\n\n        },\n\n        methods: {\n            ok_liushui_guding() {\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 每填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                this._ajax('userAccounts/addFlowingWaterCertificate',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    time:this.form.date,\n                    certificateNumber:this.form.code,\n                    accountantSubject,\n                    accountantCode,\n                    totalCreditMoney,\n                    totalDebitMoney,\n                    certificateAbstract,\n                    accountingId:this.$route.query.accountingId,\n                    type1:2,\n                    ...this.guding_form,\n                    type2:1\n                }, msg => {\n                    this._message(1,\"保存成功\")\n                    this.$router.go(-1)\n                })\n            },\n            ok_fapiao_guding() {\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 每填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                this._ajax('userAccounts/addCertificateInvoice',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    accountantSubject,\n                    accountantCode,\n                    totalCreditMoney,\n                    totalDebitMoney,\n                    certificateAbstract,\n                    time:this.form.date,\n                    certificateNumber:this.form.code,\n                    invoiceId:this.$route.query.invoiceId,\n                    type1:3,\n                    ...this.guding_form,\n                    type2:1\n                }, msg => {\n                    this._message(1,\"保存成功\")\n                    this.$router.go(-1)\n                })\n            },\n            ok_pingzheng_guding(){\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 每填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                if(sessionStorage.getItem(\"type1\") == \"shangchuan_fapiao\"){\n                    this._ajax('userAccounts/addCertificateInvoice',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n                        ...JSON.parse(sessionStorage.getItem(\"fapiao\")),\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n                        type1:0,\n                        ...this.guding_form,\n                        type2:1\n                    }, msg => {\n                        this._message(1,\"添加凭证和发票成功\")\n                        this.clear()\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n\n                    })\n                    // 如果是从现有票据选择\n                }else if(sessionStorage.getItem(\"type1\") == \"pipei_fapiao\"){\n                    this._ajax('userAccounts/addCertificateInvoice',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n\n                        invoiceId:sessionStorage.getItem(\"fapiao\"),\n                        type1:3,\n                        ...this.guding_form,\n                        type2:1\n                    }, msg => {\n                        this._message(1,\"添加凭证和匹配发票成功\")\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n\n                    })\n                    // 如果只是上传凭证\n                }else if(!sessionStorage.getItem(\"type1\")){\n                    this._ajax('userAccounts/addCertificate',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n\n                        ...this.guding_form,\n                        type2:1\n\n                    }, msg => {\n                        this._message(1,\"只添加凭证成功\")\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n                    })\n                }\n            },\n            geiguding(x){\n                this.guding_form = this.$store.state.gdzc\n                console.log(this.guding_form)\n                if(this.shui_btn==1){\n                    this.ok_pingzheng_guding()\n                }else if(this.shui_btn==\"fapiaoguanli\"){\n                    this.ok_fapiao_guding()\n                }else if(this.shui_btn==\"liushuiguanli\"){\n                    this.ok_liushui_guding()\n                }\n                // this.close_guding = new Date().getTime()\n            },\n\n\n            // 因为更换日期时凭证字号可能会跟着变\n            pingzhengzihao(){\n                this._ajax('userHomePage/selectCertificateNumber',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    time:this.form.date,\n                }, msg => {\n                    this.form.code = msg.number\n                    // this._message(1,\"凭证字号成功\")\n                })\n            },\n            // 返回\n            fanhui(){\n                //删除选择了的sessionStorage\n                this.clear()\n                this.$router.go(-1)\n            },\n\n\n\n            // 保存\n            ok(type,reload) {\n                if(isNaN(Number(this.form.code)) || Number(this.form.code) <=0){\n                    this._message(2,\"凭证字号格式不正确\")\n                    return\n                }\n                // 和孩子要凭证\n                this.yaoxinxi = new Date().getTime()\n                if(reload){\n                    // 保存是否并新增\n                    this.reload1 = true\n                }\n                // 保存谁点的保存\n                this.shui_btn = type\n            },\n\n            ok_liushui() {\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 每填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                this._ajax('userAccounts/addFlowingWaterCertificate',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    time:this.form.date,\n                    certificateNumber:this.form.code,\n                    accountantSubject,\n                    accountantCode,\n                    totalCreditMoney,\n                    totalDebitMoney,\n                    certificateAbstract,\n                    accountingId:this.$route.query.accountingId,\n                    type1:2,\n                }, msg => {\n                    this._message(1,\"保存成功\")\n                    this.$router.go(-1)\n                })\n            },\n            ok_fapiao() {\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 每填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                this._ajax('userAccounts/addCertificateInvoice',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    accountantSubject,\n                    accountantCode,\n                    totalCreditMoney,\n                    totalDebitMoney,\n                    certificateAbstract,\n                    time:this.form.date,\n                    certificateNumber:this.form.code,\n                    invoiceId:this.$route.query.invoiceId,\n                    type1:3,\n                }, msg => {\n                    this._message(1,\"保存成功\")\n                    this.$router.go(-1)\n                })\n            },\n            ok_pingzheng(reload){\n                let certificateAbstract = ''\n                let totalDebitMoney = ''\n                let totalCreditMoney = ''\n                let accountantSubject = ''\n                let accountantCode = ''\n                this.user.tableData.forEach(item=>{\n                    certificateAbstract += item.zhaiyao + ','\n                    // 没填的后台要0\n                    if(item.jie == ''){\n                        totalDebitMoney+= 0+','\n                    }else{\n                        totalDebitMoney+= item.jie+','\n                    }\n                    if(item.dai == ''){\n                        totalCreditMoney+= 0+','\n                    }else{\n                        totalCreditMoney+= item.dai+','\n                    }\n                    accountantSubject += item.name.split(',')[0]+','\n                    accountantCode += item.name.split(',')[1]+','\n                })\n                if(sessionStorage.getItem(\"type1\") == \"shangchuan_fapiao\"){\n                    this._ajax('userAccounts/addCertificateInvoice',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n                        ...JSON.parse(sessionStorage.getItem(\"fapiao\")),\n                        type1:0\n                    }, msg => {\n                        this._message(1,\"添加凭证和发票成功\")\n                        this.clear()\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n                    })\n                    // 如果是从现有票据选择\n                }else if(sessionStorage.getItem(\"type1\") == \"pipei_fapiao\"){\n                    this._ajax('userAccounts/addCertificateInvoice',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n                        invoiceId:sessionStorage.getItem(\"fapiao\"),\n                        type1:3,\n                    }, msg => {\n                        this._message(1,\"添加凭证和匹配发票成功\")\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n                    })\n                    // 如果只是上传凭证\n                }else if(!sessionStorage.getItem(\"type1\")){\n                    this._ajax('userAccounts/addCertificate',{\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n                        time:this.form.date,\n                        certificateNumber:this.form.code,\n                        accountantSubject,\n                        accountantCode,\n                        totalCreditMoney,\n                        totalDebitMoney,\n                        certificateAbstract,\n                    }, msg => {\n                        this._message(1,\"只添加凭证成功\")\n                        // 如果并新增\n                        if(this.reload1){\n                            this.reload()\n                            return\n                        }\n                        this.$router.go(-1)\n                    })\n                }\n            },\n\n            // 给我凭证信息\n            geixinxi(x,y){\n                this.user = x\n                //如果是固定资产不执行以后的保存\n                if(y == \"guding\"){\n                    return\n                }\n                if(this.shui_btn==1){\n                    this.ok_pingzheng()\n                }else if(this.shui_btn==\"fapiaoguanli\"){\n                    this.ok_fapiao()\n                }else if(this.shui_btn==\"liushuiguanli\"){\n                    this.ok_liushui()\n                }\n            },\n\n            // 清除type1和fapiao\n            clear(){\n                sessionStorage.removeItem(\"type1\")\n                sessionStorage.removeItem(\"fapiao\")\n            },\n\n            // 从现有票据选择\n            congxianyoupiaojuxuanze(){\n                this.list_bind()\n            },\n            // 从现有发票选择的ajax\n            list_bind(){\n                this._ajax('userAccounts/selectNoInvoice',{\n                    uuid:this.uuid,\n                    workAccountId:this.accountId,\n                    page:this.page,\n                    pageSize:this.pageSize\n                }, msg => {\n                    this.tableData1 = msg.PageInfo.list\n                    this.total = msg.PageInfo.total\n                    this.dialogVisible = true\n                    // this._message(1,\"票据成功\")\n                })\n            },\n            handleSizeChange(val) {\n                this.pageSize = val\n                this.list_bind()\n            },\n            handleCurrentChange(val) {\n                this.dangqianye = val\n                this.list_bind()\n            },\n            // 匹配发票的确定键\n            dialogVisible_ok(){\n                if(this.id == \"\"){\n                    this._message(2,\"请选择一个\")\n                    return\n                }\n                this.dialogVisible = false\n                sessionStorage.setItem(\"fapiao\",JSON.stringify(this.id))\n                sessionStorage.setItem(\"type1\",\"pipei_fapiao\")\n                this.id = ''\n            },\n        }\n    }\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pingzhengguanli/add_pingzheng.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#FFF\",\"padding\":\"2vh 2vw\",\"margin-bottom\":\"10vh\"}},[_c('div',{staticStyle:{\"font-size\":\"30px\",\"color\":\"#1C2023\",\"text-align\":\"center\"}},[_vm._v(\"新增凭证\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid #F8F8FF\",\"padding\":\"2vh 2vw\",\"margin-top\":\"2vh\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\"}},[_c('div',[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"凭证字号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"号\"}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"日期：\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions,\"type\":\"date\",\"placeholder\":\"\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.pingzhengzihao},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1)],1),_vm._v(\" \"),(_vm.$route.query.from != 'liushuiguanli')?_c('div',{staticStyle:{\"margin-left\":\"1vw\"}},[(!_vm.$route.query.from)?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.fapiaozujian_kaiguan=true}}},[_vm._v(\"上传票据\")]):_vm._e(),_vm._v(\" \"),(!_vm.$route.query.from)?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.congxianyoupiaojuxuanze}},[_vm._v(\"从现有票据选择\")]):_vm._e()],1):_vm._e()]),_vm._v(\" \"),_c('pingzheng',{attrs:{\"yaoxinxi\":_vm.yaoxinxi,\"type\":\"add_pingzheng\",\"close_guding\":_vm.close_guding},on:{\"geixinxi\":_vm.geixinxi,\"geiguding\":_vm.geiguding}}),_vm._v(\" \"),(_vm.$route.query.from != 'liushuiguanli' && _vm.$route.query.from!= 'fapiaoguanli')?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-top\":\"5vh\"}},[_c('el-button',{staticStyle:{\"margin-right\":\"5vw\"},attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.ok(1,'reload')}}},[_vm._v(\"保存并新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.ok(1)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5vw\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.fanhui}},[_vm._v(\"返回\")])],1):_vm._e(),_vm._v(\" \"),(_vm.$route.query.from == 'liushuiguanli')?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-top\":\"5vh\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.ok('liushuiguanli')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5vw\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.fanhui}},[_vm._v(\"返回\")])],1):_vm._e(),_vm._v(\" \"),(_vm.$route.query.from == 'fapiaoguanli')?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-top\":\"5vh\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.ok('fapiaoguanli')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5vw\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.fanhui}},[_vm._v(\"返回\")])],1):_vm._e()],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.tableData1}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"单选\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.id},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}},[_vm._v(\" \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"creation_time\",\"label\":\"上传时间\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_invoice_number\",\"label\":\"发票号码\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_supplier_name\",\"label\":\"供应商/客户名称\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price_tax_total\",\"label\":\"价税合计\",\"width\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"1vh\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogVisible_ok}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),(_vm.fapiaozujian_kaiguan)?_c('addFaPiao',{on:{\"fapiaozujian\":function($event){_vm.fapiaozujian_kaiguan = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7c3db16c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/pingzhengguanli/add_pingzheng.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c3db16c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./add_pingzheng.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_pingzheng.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_pingzheng.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c3db16c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./add_pingzheng.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pingzhengguanli/add_pingzheng.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <el-dialog\n                :show-close=\"false\"\n                :close-on-click-modal=\"false\"\n                :close-on-press-escape=\"false\"\n                title=\"提示\"\n                :visible.sync=\"dialogVisible\"\n                width=\"60%\">\n            <div style=\"margin-bottom: 30px\">\n                <el-upload :on-change=\"change\" action=\"\" :show-file-list=\"false\" :auto-upload=\"false\">\n                    <el-button type=\"warning\">点击上传</el-button>\n                </el-upload>\n            </div>\n            <span>\n                <el-form ref=\"form\" :model=\"form\" label-width=\"145px\" :rules=\"rules\">\n                    <div style=\"display: flex;flex-wrap: wrap\">\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"发票类型：\" prop=\"invoiceType\">\n                                <el-select v-model=\"form.invoiceType\" placeholder=\"请选择\" style=\"width: 100%;\">\n                                    <el-option label=\"专票\" value=\"0\"></el-option>\n                                    <el-option label=\"普票\" value=\"1\"></el-option>\n                                </el-select>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"开票日期：\" prop=\"invoicingDate\">\n                                <el-date-picker style=\"width: 100%;\" type=\"date\" placeholder=\"\" v-model=\"form.invoicingDate\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"认证日期：\">\n                                <el-date-picker style=\"width: 100%;\" type=\"date\" placeholder=\"\" v-model=\"form.authenticationDate\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"发票号码：\" prop=\"invoiceNumber\">\n                                <el-input v-model=\"form.invoiceNumber\" style=\"width: 100%;\"></el-input>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"供应商/客户类型：\" prop=\"supplierType\">\n                                <el-select v-model=\"form.supplierType\" placeholder=\"请选择\" style=\"width: 100%;\">\n                                    <el-option label=\"供应商\" value=\"供应商\"></el-option>\n                                    <el-option label=\"客户\" value=\"客户\"></el-option>\n                                </el-select>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-col :span=\"19\">\n                                <el-form-item label=\"供应商/客户名称：\" prop=\"supplierName\">\n                                <el-select v-model=\"form.supplierName\" placeholder=\"请选择\" style=\"width: 100%;\">\n                                    <el-option v-for=\"item in list\" :key=\"item.company_supplier_name\" :label=\"item.company_supplier_name\" :value=\"item.company_supplier_name\"></el-option>\n                                </el-select>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"3\" :offset=\"1\">\n                                <el-button @click=\"show_huoban=true\" type=\"\" icon=\"el-icon-plus\"></el-button>\n                            </el-col>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"金额：\" prop=\"money\">\n                                <el-input v-model=\"form.money\" style=\"width: 100%;\"></el-input>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-form-item label=\"税率：\" prop=\"taxRate\">\n                                <el-input v-model=\"form.taxRate\" style=\"width: 100%;\"></el-input>\n                            </el-form-item>\n                        </div>\n                        <div style=\"width: 350px;\">\n                            <el-col :span=\"21\">\n                                <el-form-item label=\"价税合计：\" prop=\"priceTaxTotal\">\n                                <el-input v-model=\"form.priceTaxTotal\" style=\"width: 100%;\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"3\">\n                                <el-form-item label=\"元\" label-width=\"100%\">\n                                </el-form-item>\n                            </el-col>\n                        </div>\n                    </div>\n                </el-form>\n            </span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"$emit('fapiaozujian')\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitForm('form')\">确 定</el-button>\n            </span>\n        </el-dialog>\n\n        <addHuoBan v-if=\"show_huoban\" @add_huoban_ok = \"show_huoban_ok_cancel\"></addHuoBan>\n\n    </div>\n</template>\n\n<script>\n    import mix from \"@/mixins/mixins\"\n    import OSS from 'ali-oss'\n    import addHuoBan from \"@/components/yuchunhui/add_yewuhuoban\"\n\n\n\n    export default {\n        name: \"add_yewuhuoban\",\n        mixins:[mix],\n        components:{\n            addHuoBan\n        },\n\n        mounted(){\n            this.getStorage()\n            this._ajax('userAccounts/selectCompanySupplierName',{\n                company_supplier_name:'',\n                uuid:this.uuid,\n                workAccountId:this.accountId,\n            }, msg => {\n                this.list = msg\n            })\n        },\n        data(){\n            return {\n                // 控制供应商客户组件的展示\n                show_huoban:false,\n                // 控制自己的开关要一直开着\n                dialogVisible:true,\n                // 先赋值给这个再赋值给form的这个\n                invoicePhoto1:\"\",\n                // 供应商客户列表\n                list:[],\n                form:{\n                    // 发票类型\n                    invoiceType:'',\n                    // 开票日期\n                    invoicingDate:'',\n                    // 认证日期\n                    authenticationDate:'',\n                    // 发票号码\n                    invoiceNumber:'',\n                    // 供应商或客户\n                    supplierType:\"\",\n                    // 供应商或客户的名字\n                    supplierName:'',\n                    // 金额\n                    money:'',\n                    // 税率\n                    taxRate:'',\n                    // 价税合计\n                    priceTaxTotal:'',\n                    // 图片\n                    invoicePhoto:\"\"\n                },\n                rules: {\n                    invoiceType: [\n                        { required: true, message: '请选择发票类型', trigger: 'change' },\n                    ],\n                    invoicingDate: [\n                        { required: true, message: '请选择开票日期', trigger: 'change' }\n                    ],\n                    invoiceNumber:[\n                        { required: true, message: '请输入发票号码', trigger: 'blur' }\n                    ],\n                    supplierType:[\n                        { required: true, message: '请选择供应商或客户', trigger: 'change' }\n                    ],\n                    supplierName:[\n                        { required: true, message: '请选择', trigger: 'change' }\n                    ],\n                    supplierType:[\n                        { required: true, message: '请选择供应商或客户', trigger: 'change' }\n                    ],\n                    money:[\n                        { required: true, message: '请输入金额', trigger: 'blur' }\n                    ],\n                    taxRate:[\n                        { required: true, message: '请输入税率', trigger: 'blur' }\n                    ],\n                    priceTaxTotal:[\n                        { required: true, message: '请选择价税合计', trigger: 'blur' }\n                    ],\n                },\n            }\n        },\n        methods:{\n            // 组件的保存和取消\n            show_huoban_ok_cancel(x){\n                if(x == 1){\n                    this._ajax('userAccounts/selectCompanySupplierName',{\n                        company_supplier_name:'',\n                        uuid:this.uuid,\n                        workAccountId:this.accountId,\n                    }, msg => {\n                        this.list = msg\n                        this.show_huoban = false\n                    })\n                }else{\n                    this.show_huoban = false\n                }\n            },\n\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        sessionStorage.setItem(\"fapiao\",JSON.stringify(this.form))\n                        sessionStorage.setItem(\"type1\",\"shangchuan_fapiao\")\n                        this.$emit(\"fapiaozujian\")\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            change (file) {\n                var message = this.$message({\n                    type:\"warning\",\n                    message:'发票识别中请稍后',\n                    duration:0\n                })\n\n                var reader = new FileReader()\n                reader.readAsDataURL(file.raw);\n                reader.onload = () =>{\n                    this._ajax('common/invoice',{\n                        encode:JSON.stringify(reader.result.split(\",\")[1])\n                    }, msg => {\n                        message.close()\n                        if(Object.prototype.toString.call(msg) == '[object Object]'){\n                            if(msg.hasOwnProperty('state')){\n                                return\n                            }\n                        }\n                        this._message(1,\"识别成功\")\n                        // 临时存储图片识别成功之后再显示\n                        this.form.invoicePhoto = this.invoicePhoto1\n\n                        //发票号码\n                        this.form.invoiceNumber = msg.number\n                        //价税合计\n                        this.form.priceTaxTotal = msg.total\n                        // 金额\n                        this.form.money = msg.pretax_amount\n                        // 税率\n                        this.form.taxRate = (((msg.tax/msg.pretax_amount).toFixed(2))*100)+ '%'\n\n                        let x = \"\"\n                        msg.date.split(\"\").forEach((item,index)=>{\n                            if(item == \"年\" || item == \"月\" || item ==\"日\"){\n                                if(index != (msg.date.split(\"\").length)-1){\n                                    x+=\"-\"\n                                }\n                            }else{\n                                x+=item\n                            }\n                        })\n                        //开票日期\n                        this.form.invoicingDate = x\n                    })\n                }\n\n\n                var _this = this;\n                if (file == undefined) {\n                    return false;\n                }\n\n                var fName = file.name,\n                    suffix = fName.substr(fName.lastIndexOf(\".\")),\n                    nda = 'user-herder' + Date.parse(new Date()) / 1000,\n                    storeAs = nda + suffix;\n\n                var client = new OSS.Wrapper(this.$ali);\n                client.multipartUpload(storeAs, file.raw).then(function (result) {\n                    _this.invoicePhoto1 = result.res.requestUrls[0].split('?')[0];\n                }).catch(function (err) {\n                    _this.$message({\n                        message: '服务器繁忙，请稍后再试',\n                        type: 'error'\n                    });\n                });\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/yuchunhui/add_fapiao.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"show-close\":false,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('el-upload',{attrs:{\"on-change\":_vm.change,\"action\":\"\",\"show-file-list\":false,\"auto-upload\":false}},[_c('el-button',{attrs:{\"type\":\"warning\"}},[_vm._v(\"点击上传\")])],1)],1),_vm._v(\" \"),_c('span',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"145px\",\"rules\":_vm.rules}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"发票类型：\",\"prop\":\"invoiceType\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.invoiceType),callback:function ($$v) {_vm.$set(_vm.form, \"invoiceType\", $$v)},expression:\"form.invoiceType\"}},[_c('el-option',{attrs:{\"label\":\"专票\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"普票\",\"value\":\"1\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"开票日期：\",\"prop\":\"invoicingDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.invoicingDate),callback:function ($$v) {_vm.$set(_vm.form, \"invoicingDate\", $$v)},expression:\"form.invoicingDate\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"认证日期：\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.authenticationDate),callback:function ($$v) {_vm.$set(_vm.form, \"authenticationDate\", $$v)},expression:\"form.authenticationDate\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"发票号码：\",\"prop\":\"invoiceNumber\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.invoiceNumber),callback:function ($$v) {_vm.$set(_vm.form, \"invoiceNumber\", $$v)},expression:\"form.invoiceNumber\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"供应商/客户类型：\",\"prop\":\"supplierType\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.supplierType),callback:function ($$v) {_vm.$set(_vm.form, \"supplierType\", $$v)},expression:\"form.supplierType\"}},[_c('el-option',{attrs:{\"label\":\"供应商\",\"value\":\"供应商\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"客户\",\"value\":\"客户\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-col',{attrs:{\"span\":19}},[_c('el-form-item',{attrs:{\"label\":\"供应商/客户名称：\",\"prop\":\"supplierName\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", $$v)},expression:\"form.supplierName\"}},_vm._l((_vm.list),function(item){return _c('el-option',{key:item.company_supplier_name,attrs:{\"label\":item.company_supplier_name,\"value\":item.company_supplier_name}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.show_huoban=true}}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"金额：\",\"prop\":\"money\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.money),callback:function ($$v) {_vm.$set(_vm.form, \"money\", $$v)},expression:\"form.money\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-form-item',{attrs:{\"label\":\"税率：\",\"prop\":\"taxRate\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.taxRate),callback:function ($$v) {_vm.$set(_vm.form, \"taxRate\", $$v)},expression:\"form.taxRate\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"350px\"}},[_c('el-col',{attrs:{\"span\":21}},[_c('el-form-item',{attrs:{\"label\":\"价税合计：\",\"prop\":\"priceTaxTotal\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.priceTaxTotal),callback:function ($$v) {_vm.$set(_vm.form, \"priceTaxTotal\", $$v)},expression:\"form.priceTaxTotal\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',{attrs:{\"label\":\"元\",\"label-width\":\"100%\"}})],1)],1)])])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('fapiaozujian')}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),(_vm.show_huoban)?_c('addHuoBan',{on:{\"add_huoban_ok\":_vm.show_huoban_ok_cancel}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-23e3ecc8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/yuchunhui/add_fapiao.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23e3ecc8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./add_fapiao.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_fapiao.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_fapiao.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23e3ecc8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./add_fapiao.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23e3ecc8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/yuchunhui/add_fapiao.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}