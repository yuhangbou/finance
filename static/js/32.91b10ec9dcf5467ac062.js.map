{"version":3,"sources":["webpack:///src/pages/login_xiangguan/forget_password.vue","webpack:///./src/pages/login_xiangguan/forget_password.vue?f190","webpack:///./src/pages/login_xiangguan/forget_password.vue"],"names":["forget_password","name","data","_this","this","time","code","user","phone","newPassWord","userPassWord","rules2","required","validator","rule","value","callback","test","Error","trigger","message","$refs","validateField","methods","get_code","_this2","RegExp","_ajax","flag","status","msg","t","setInterval","parseInt","clearTimeout","_message","hjSubmite","formName","_this3","validate","valid","extends_default","$router","push","path","login_xiangguan_forget_password","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","display","justify-content","align-items","on","keyup","$event","type","indexOf","_k","keyCode","key","ref","margin-top","attrs","label-width","model","rules","label","prop","placeholder","$$v","$set","expression","_v","span","offset","directives","rawName","click","_s","text-align","text-decoration","font-size","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iIA4CAA,cACAC,KAAA,QACAC,KAFA,WAEA,IAAAC,EAAAC,KA+BA,OACAC,KAAA,OACAC,MAAA,EACAC,MACAC,MAAA,GACAC,YAAA,GACAC,aAAA,GACAJ,KAAA,IAEAK,QACAH,QACAI,UAAA,EAAAC,UAzCA,SAAAC,EAAAC,EAAAC,GACAD,EAGA,qCAAAE,KAAAF,GACAC,IAEAA,EAAA,IAAAE,MAAA,cALAF,EAAA,IAAAE,MAAA,aAuCAC,QAAA,WAEAb,OACAM,UAAA,EAAAQ,QAAA,SAAAD,QAAA,SAEAV,cACAG,UAAA,EAAAC,UApCA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAE,MAAA,WAEA,KAAAf,EAAAI,KAAAG,cACAP,EAAAkB,MAAAd,KAAAe,cAAA,gBAEAN,MA6BAG,QAAA,SAEAT,eACAE,UAAA,EAAAC,UA7BA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAE,MAAA,YACAH,IAAAZ,EAAAI,KAAAE,YACAO,EAAA,IAAAE,MAAA,eAEAF,KAuBAG,QAAA,YAMAI,SACAC,SADA,WACA,IAAAC,EAAArB,KAEA,IAAAsB,OADA,qBAEAT,KAAAb,KAAAG,KAAAC,QAKAJ,KAAAuB,MAAA,cACAnB,MAAAJ,KAAAG,KAAAC,MACAoB,KAAA,EACAC,OAAA,GACA,SAAAC,GACAL,EAAAnB,MAAA,EACA,IAAAyB,EAAAC,YAAA,WACAP,EAAApB,KAAA4B,SAAAR,EAAApB,MAAA,OACA,GAAA4B,SAAAR,EAAApB,QACA6B,aAAAH,GACAN,EAAAnB,MAAA,IAEA,OAIAF,KAAAC,KAAA,QApBAD,KAAA+B,SAAA,gBAwBAC,UA7BA,SA6BAC,GAAA,IAAAC,EAAAlC,KAEAA,KAAAiB,MAAAgB,GAAAE,SAAA,SAAAC,GACA,IAAAA,EAUA,SATAF,EAAAX,MAAA,2BAAAc,OACAH,EAAA/B,MACAsB,OAAA,IACA,SAAAC,GACAQ,EAAAH,SAAA,UACAG,EAAAI,QAAAC,MAAAC,KAAA,4BC1IeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,gBAAAC,aAAyCC,QAAA,OAAAC,kBAAA,SAAAC,cAAA,UAAmEC,IAAKC,MAAA,SAAAC,GAAyB,OAAAA,EAAAC,KAAAC,QAAA,QAAAd,EAAAe,GAAAH,EAAAI,QAAA,WAAAJ,EAAAK,IAAA,SAAsF,KAAejB,EAAAX,UAAA,YAA+Bc,EAAA,OAAAA,EAAA,WAA0Be,IAAA,OAAAZ,aAAwBa,aAAA,OAAmBC,OAAQC,cAAA,QAAAC,MAAAtB,EAAAxC,KAAA+D,MAAAvB,EAAApC,UAA2DuC,EAAA,gBAAqBiB,OAAOI,MAAA,WAAAC,KAAA,WAAmCtB,EAAA,YAAiBE,YAAA,SAAAe,OAA4BP,KAAA,OAAAa,YAAA,UAAqCJ,OAAQtD,MAAAgC,EAAAxC,KAAA,MAAAS,SAAA,SAAA0D,GAAgD3B,EAAA4B,KAAA5B,EAAAxC,KAAA,QAAAmE,IAAiCE,WAAA,iBAA0B,GAAA7B,EAAA8B,GAAA,KAAA3B,EAAA,gBAAqCiB,OAAOI,MAAA,OAAAC,KAAA,UAA8BtB,EAAA,UAAeiB,OAAOW,KAAA,MAAW5B,EAAA,YAAiBE,YAAA,SAAAe,OAA4BP,KAAA,SAAAa,YAAA,UAAuCJ,OAAQtD,MAAAgC,EAAAxC,KAAA,KAAAS,SAAA,SAAA0D,GAA+C3B,EAAA4B,KAAA5B,EAAAxC,KAAA,OAAAmE,IAAgCE,WAAA,gBAAyB,GAAA7B,EAAA8B,GAAA,KAAA3B,EAAA,UAA+BiB,OAAOW,KAAA,GAAAC,OAAA,KAAsB7B,EAAA,aAAkB8B,aAAa/E,KAAA,OAAAgF,QAAA,SAAAlE,MAAAgC,EAAA,KAAA6B,WAAA,SAAgExB,YAAA,SAAAK,IAA2ByB,MAAAnC,EAAAvB,YAAsBuB,EAAA8B,GAAA,WAAA9B,EAAA8B,GAAA,KAAA3B,EAAA,aAAgD8B,aAAa/E,KAAA,OAAAgF,QAAA,SAAAlE,OAAAgC,EAAAzC,KAAAsE,WAAA,UAAkExB,YAAA,WAAuBL,EAAA8B,GAAA9B,EAAAoC,GAAApC,EAAA1C,UAAA,OAAA0C,EAAA8B,GAAA,KAAA3B,EAAA,gBAAoEiB,OAAOI,MAAA,OAAAC,KAAA,iBAAqCtB,EAAA,YAAiBE,YAAA,SAAAe,OAA4BP,KAAA,WAAAa,YAAA,UAAyCJ,OAAQtD,MAAAgC,EAAAxC,KAAA,YAAAS,SAAA,SAAA0D,GAAsD3B,EAAA4B,KAAA5B,EAAAxC,KAAA,cAAAmE,IAAuCE,WAAA,uBAAgC,GAAA7B,EAAA8B,GAAA,KAAA3B,EAAA,gBAAqCiB,OAAOI,MAAA,QAAAC,KAAA,kBAAuCtB,EAAA,YAAiBE,YAAA,SAAAe,OAA4BP,KAAA,WAAAa,YAAA,WAA0CJ,OAAQtD,MAAAgC,EAAAxC,KAAA,aAAAS,SAAA,SAAA0D,GAAuD3B,EAAA4B,KAAA5B,EAAAxC,KAAA,eAAAmE,IAAwCE,WAAA,wBAAiC,GAAA7B,EAAA8B,GAAA,KAAA3B,EAAA,aAAkCE,YAAA,SAAAK,IAAyByB,MAAA,SAAAvB,GAAyB,OAAAZ,EAAAX,UAAA,YAA+BW,EAAA8B,GAAA,YAAA9B,EAAA8B,GAAA,KAAA3B,EAAA,OAA2CG,aAAaa,aAAA,MAAAkB,aAAA,YAA0ClC,EAAA,eAAoBG,aAAagC,kBAAA,OAAAC,YAAA,QAA4CnB,OAAQoB,IAAM3C,KAAA,sBAAyBG,EAAA8B,GAAA,qBAE72EW,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE3F,EACA6C,GATF,EAVA,SAAA+C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/32.91b10ec9dcf5467ac062.js","sourcesContent":["<template>\n    <div class=\"hj-login\">\n        <div class=\"hj-login-form\" @keyup.enter=\"hjSubmite('user')\" style=\"display: flex;justify-content: center;align-items: center\">\n            <div>\n                <el-form\n                        style=\"margin-top: 2vh\"\n                        ref=\"user\"\n                        label-width=\"110px\"\n                        :model=\"user\"\n                        :rules=\"rules2\">\n                    <el-form-item label=\"手机号：+ 86\" prop=\"phone\">\n                            <el-input type=\"text\" placeholder=\"请输入手机号\" class=\"hj-ipt\" v-model=\"user.phone\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"验证码：\" prop=\"code\">\n                        <el-col :span=\"12\">\n                            <el-input type=\"text\n\" placeholder=\"请输入验证码\" class=\"hj-ipt\" v-model=\"user.code\"></el-input>\n\n                        </el-col>\n                        <el-col :span=\"10\" :offset=\"2\">\n                            <el-button class=\"hj-ipt\" v-show=\"code\" @click=\"get_code\">获取验证码</el-button>\n                            <el-button class=\"hj-ipt\" v-show=\"!code\">{{time}}</el-button>\n\n                        </el-col>\n                    </el-form-item>\n\n                    <el-form-item label=\"新密码：\" prop=\"newPassWord\">\n                        <el-input type=\"password\" placeholder=\"请输入新密码\" class=\"hj-ipt\" v-model=\"user.newPassWord\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"确认密码：\" prop=\"userPassWord\">\n                        <el-input type=\"password\" placeholder=\"请再次输入密码\" class=\"hj-ipt\" v-model=\"user.userPassWord\"></el-input>\n                    </el-form-item>\n                    <el-button class=\"hj-btn\" @click=\"hjSubmite('user')\">确定</el-button>\n                </el-form>\n                <div style=\"margin-top: 1vh;text-align: center\">\n                    <router-link style=\"text-decoration: none;font-size: 12px\" :to=\"{path:'/password_login'}\">取消</router-link>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</template>\n<script>\n    import {validateNull, validateLength, validateSpace, validateSpecial} from '../../assets/javascript/validate.js';\n    export default {\n        name: \"login\",\n        data() {\n            var phone = (rule, value, callback) => {\n                if (!value) {\n                    callback(new Error('手机号不能为空'));\n                }else{\n                    if(/^1([38]\\d|5[0-35-9]|7[3678])\\d{8}$/.test(value)){\n                        callback()\n                    }else{\n                        callback(new Error('请输入正确的手机号'));\n                    }\n                }\n            };\n            var new_password = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.user.userPassWord !== '') {\n                        this.$refs.user.validateField('userPassWord');\n                    }\n                    callback();\n                }\n            };\n            var userPassWord = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请再次输入密码'));\n                } else if (value !== this.user.newPassWord) {\n                    callback(new Error('两次输入密码不一致!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                time:'60 s',\n                code:true,\n                user: {\n                    phone: '',\n                    newPassWord: '',\n                    userPassWord: '',\n                    code: '',\n                },\n                rules2: {   // 表单验条件\n                    phone:[\n                        { required: true,validator: phone, trigger: 'change' }\n                    ],\n                    code:[\n                        { required: true,message: '请输入验证码', trigger: 'blur' }\n                    ],\n                    newPassWord:[\n                        { required: true,validator: new_password, trigger: 'blur' }\n                    ],\n                    userPassWord:[\n                        { required: true,validator: userPassWord, trigger: 'blur' }\n                    ],\n\n                }\n            }\n        },\n        methods: {\n            get_code(){\n                var regu =/^1[3456789]\\d{9}$/;\n                var re = new RegExp(regu);\n                if(!re.test(this.user.phone)){\n                    this._message(3,\"请输入正确的手机号\")\n                    return\n                }\n\n                this._ajax('common/sms', {\n                    phone:this.user.phone,\n                    flag:1,\n                    status:2\n                }, msg => {\n                    this.code=false\n                    const t = setInterval(()=>{\n                         this.time = parseInt(this.time)-1 + ' s'\n                        if(parseInt(this.time) == 1){\n                             clearTimeout(t)\n                            this.code = true\n                        }\n                    },1000)\n\n\n                })\n                this.time = '60 s'\n\n            },\n\n            hjSubmite(formName) {\n                // 管理登陆方法.\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this._ajax('userLogin/forgetPassWord', {\n                            ...this.user,\n                            status:2\n                        }, msg => {\n                            this._message(1,'修改成功')\n                            this.$router.push({path: '/password_login'});\n\n                        })\n                    } else {\n                        return false;\n                    }\n                });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .hj-login {\n        width: 100%;\n        height: 100%;\n        background: url(\"https://company-webimage.oss-cn-beijing.aliyuncs.com/bg.b4b5636.jpg\");\n        background-repeat: no-repeat;\n        background-size: 100%;\n    }\n\n    .hj-login-form {\n        background-color: #fff;\n        padding: 40px;\n        width: 400px;\n        height: 400px;\n        position: fixed;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%,-50%);\n        /*margin-top: -200px;*/\n        /*margin-left: -200px;*/\n        border-radius: 8px;\n        /*-webkit-box-shadow: 6px 3px 3px 6px #adadad;*/\n        /*-moz-box-shadow: 6px 3px 3px 6px #adadad;*/\n        /*box-shadow: 6px 3px 3px 6px #adadad;*/\n    }\n\n    .hj-login-title {\n        width: 100%;\n        height: 80px;\n        background: url('../../assets/images/hj-login.jpg') no-repeat center center;\n        background-size: 100% 100%;\n        border-radius: 6px;\n        margin-bottom: 22px;\n        line-height: 80px;\n        text-align: center;\n        font-size: 26px;\n        color: #fff;\n    }\n\n    .hj-btn {\n        display: block;\n        margin: 0 auto;\n        width: 100%;\n        background-color: #4d4d4d;\n        color: #fff;\n    }\n\n    .hj-ipt {\n        width: 100%;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login_xiangguan/forget_password.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hj-login\"},[_c('div',{staticClass:\"hj-login-form\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.hjSubmite('user')}}},[_c('div',[_c('el-form',{ref:\"user\",staticStyle:{\"margin-top\":\"2vh\"},attrs:{\"label-width\":\"110px\",\"model\":_vm.user,\"rules\":_vm.rules2}},[_c('el-form-item',{attrs:{\"label\":\"手机号：+ 86\",\"prop\":\"phone\"}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码：\",\"prop\":\"code\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"text\\n\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.user.code),callback:function ($$v) {_vm.$set(_vm.user, \"code\", $$v)},expression:\"user.code\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"offset\":2}},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.code),expression:\"code\"}],staticClass:\"hj-ipt\",on:{\"click\":_vm.get_code}},[_vm._v(\"获取验证码\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.code),expression:\"!code\"}],staticClass:\"hj-ipt\"},[_vm._v(_vm._s(_vm.time))])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码：\",\"prop\":\"newPassWord\"}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入新密码\"},model:{value:(_vm.user.newPassWord),callback:function ($$v) {_vm.$set(_vm.user, \"newPassWord\", $$v)},expression:\"user.newPassWord\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码：\",\"prop\":\"userPassWord\"}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.user.userPassWord),callback:function ($$v) {_vm.$set(_vm.user, \"userPassWord\", $$v)},expression:\"user.userPassWord\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"hj-btn\",on:{\"click\":function($event){return _vm.hjSubmite('user')}}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"1vh\",\"text-align\":\"center\"}},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"font-size\":\"12px\"},attrs:{\"to\":{path:'/password_login'}}},[_vm._v(\"取消\")])],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-43c91196\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/login_xiangguan/forget_password.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43c91196\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./forget_password.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./forget_password.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./forget_password.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43c91196\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./forget_password.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43c91196\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login_xiangguan/forget_password.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}