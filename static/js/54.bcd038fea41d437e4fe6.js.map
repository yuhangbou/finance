{"version":3,"sources":["webpack:///src/pages/fapiao/tianjiapingzheng.vue","webpack:///./src/pages/fapiao/tianjiapingzheng.vue?1b86","webpack:///./src/pages/fapiao/tianjiapingzheng.vue"],"names":["tianjiapingzheng","name","mixins","watch","user.tableData","handler","newName","oldName","jie_num","dai_num","this","user","tableData","forEach","item","jie","Number","dai","heji","heji1","deep","components","gudingzichan","add_gudingzichan","data","gudingzichan_kaiguan","subject_guding","guding_type","guding_form","assetName","assetClassify","startDate","Date","getFullYear","Array","join","getMonth","slice","getDate","assetSubjects","zMoeny","flag","residualValue","setMonth","setZMoney","getZMoney","shengyu","meiyue","pickerOptions","disabledDate","time","getTime","JSON","parse","localStorage","getItem","shengchengpingzheng","one","two","form","comment","subjectId","parentId","direction","one1","two1","classify","payMoney","type","code","accountsDate","zhaiyao","jie_show","dai_show","index","list","checked","rules","required","message","trigger","money","mounted","_this","getStorage","pingzhengzihao","_ajax","msg","$route","query","methods","gudingzichan_jieshou","x","tiqubaocun","_this2","certificateAbstract","totalDebitMoney","totalCreditMoney","accountantSubject","accountantCode","split","extends_default","uuid","workAccountId","accountId","certificateNumber","sessionStorage","type1","type2","_message","removeItem","$router","push","path","_this3","number","btn_shengchengpingzheng","_this4","length","$refs","validate","valid","priceTaxTotal","toFixed","jie_change","e","findIndex","i","dai_change","add","change_fangxiang","a","_this5","change_two","change_one","_this6","id","save","_this7","isNaN","error","fapiao_tianjiapingzheng","render","_vm","_h","$createElement","_c","_self","staticStyle","background","padding","font-size","color","text-align","_v","border","margin-top","display","width","ref","attrs","label-width","model","flex-wrap","label","prop","placeholder","on","change","value","callback","$$v","$set","expression","filterable","_l","key","new_subjects_name","margin-left","picker-options","value-format","justify-content","align-items","click","scopedSlots","_u","fn","scope","margin-bottom","$index","row","subjects_name","subjects_number","disabled","input","$event","_e","_s","from","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/54.bcd038fea41d437e4fe6.js","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"background: #FFF;padding: 2vw;\">\r\n            <div style=\"font-size: 30px;color: #1C2023;text-align: center;\">添加凭证</div>\r\n            <div style=\"border: 1px solid #F8F8FF;padding: 2vh 2vw;margin-top: 2vh\">\r\n\r\n                <div style=\"display: flex;\">\r\n\r\n                    <div style=\"width: 60%;\">\r\n                        <el-form label-width=\"100px\" ref=\"form\" :model=\"form\" :rules=\"rules\">\r\n                            <div style=\"display: flex;flex-wrap: wrap\">\r\n                                <div style=\"width: 40%;\">\r\n                                    <el-form-item label=\"方向：\" prop=\"direction\">\r\n                                        <el-select @change=\"change_fangxiang\" v-model=\"form.direction\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                                            <el-option label=\"收\" value=\"0\"></el-option>\r\n                                            <el-option label=\"支\" value=\"1\"></el-option>\r\n                                            <!--<el-option label=\"转账\" value=\"2\"></el-option>-->\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div style=\"width: 25%;\">\r\n                                    <el-form-item label=\"分类：\" prop=\"one1\">\r\n                                        <!--<el-col :span=\"11\">-->\r\n                                            <el-select filterable @change=\"change_one\" v-model=\"form.one1\" placeholder=\"请先选择方向\" style=\"width: 100%;\">\r\n                                                <el-option :key=\"item.id\" v-for=\"item in one\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n                                            </el-select>\r\n                                        <!--</el-col>-->\r\n                                        <!--<el-col :span=\"11\" :offset=\"2\">-->\r\n                                            <!--<el-select filterable @change=\"change_two\" v-model=\"form.classify\" placeholder=\"请先选择一级分类\" style=\"width: 100%;\">-->\r\n                                                <!--<el-option :key=\"item.id\" v-for=\"item in two\" :label=\"item.name\" :value=\"item.name+'-'+item.code+'-'+item.id\"></el-option>-->\r\n                                            <!--</el-select>-->\r\n                                        <!--</el-col>-->\r\n                                    </el-form-item>\r\n\r\n                                </div>\r\n                                <div style=\"width: 25%;\">\r\n                                    <el-form-item label=\" \">\r\n                                        <!--<el-col :span=\"11\">-->\r\n                                        <!--<el-select filterable @change=\"change_one\" v-model=\"form.one1\" placeholder=\"请先选择方向\" style=\"width: 100%;\">-->\r\n                                            <!--<el-option :key=\"item.id\" v-for=\"item in one\" :label=\"item.name\" :value=\"item.id\"></el-option>-->\r\n                                        <!--</el-select>-->\r\n                                        <!--</el-col>-->\r\n                                        <!--<el-col :span=\"11\" :offset=\"2\">-->\r\n                                        <el-select filterable @change=\"change_two\" v-model=\"form.two1\" placeholder=\"请先选择一级分类\" style=\"width: 100%;\">\r\n                                        <el-option :key=\"item.id\" v-for=\"item in two\" :label=\"item.new_subjects_name\" :value=\"`${item.id},${item.parent_id},${item.name},${item.type},${item.code}`\"></el-option>\r\n                                        </el-select>\r\n                                        <!--</el-col>-->\r\n                                    </el-form-item>\r\n\r\n                                </div>\r\n                                <div style=\"width: 60%;\">\r\n                                    <el-form-item label=\"交易方式：\" prop=\"payMoney\">\r\n                                        <el-select v-model=\"form.payMoney\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                                            <el-option label=\"银行转账\" value=\"0\"></el-option>\r\n                                            <el-option label=\"现金支付\" value=\"1\"></el-option>\r\n                                            <el-option label=\"微信（公司账号）\" value=\"2\"></el-option>\r\n                                            <el-option label=\"微信（法人个人账号）\" value=\"3\"></el-option>\r\n                                            <el-option label=\"支付宝（公司账号）\" value=\"4\"></el-option>\r\n                                            <el-option label=\"支付宝（法人个人账号）\" value=\"5\"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n\r\n                                <div style=\"width: 30%;\">\r\n                                    <el-form-item label=\"支付状态\" label-width=\"100px\" prop=\"type\">\r\n                                        <el-select v-model=\"form.type\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                                            <el-option label=\"已付\" value=\"1\"></el-option>\r\n                                            <el-option label=\"未付\" value=\"0\"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n\r\n                                <div style=\"width: 30%;\">\r\n                                    <el-form-item label=\"凭证字号：\" prop=\"code\">\r\n\r\n                                        <el-form-item label=\"第\" prop=\"code\" label-width=\"20px\">\r\n                                            <el-input v-model=\"form.code\" style=\"width: 100%;\"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-form-item>\r\n\r\n\r\n                                </div>\r\n                                <div style=\"width: 1%;\">\r\n                                    <el-form-item label=\"号\" prop=\"\" label-width=\"30px\">\r\n                                    </el-form-item>\r\n\r\n                                </div>\r\n\r\n                                <div style=\"width: 20%;\">\r\n                                    <el-form-item label=\"日期：\" prop=\"\">\r\n                                        <el-date-picker\r\n                                                :picker-options=\"pickerOptions\"\r\n                                                @change=\"pingzhengzihao\"\r\n                                                style=\"margin-left: 20px\"\r\n                                                value-format=\"yyyy-MM-dd\"\r\n                                                v-model=\"form.accountsDate\"\r\n                                                type=\"date\">\r\n                                        </el-date-picker>\r\n                                    </el-form-item>\r\n\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                        </el-form>\r\n                    </div>\r\n\r\n                    <div style=\"width: 40%;display: flex;justify-content: flex-end;align-items: flex-start\r\n\">\r\n                        <el-button type=\"warning\" @click=\"btn_shengchengpingzheng\">生成凭证</el-button>\r\n                    </div>\r\n\r\n                </div>\r\n                <el-form :model=\"user\" ref=\"user\">\r\n                <el-table\r\n                        v-if=\"shengchengpingzheng\"\r\n                        :data=\"user.tableData\"\r\n                        style=\"width: 100%\">\r\n                    <el-table-column\r\n                            prop=\"\"\r\n                            label=\"科目\"\r\n                            width=\"300\">\r\n                        <!--<template slot-scope=\"scope\">-->\r\n                            <!--<el-select filterable v-model=\"scope.row.name\" placeholder=\"请选择\" style=\"width: 100%;\">-->\r\n                                <!--<el-option :key=\"item.id\" v-for=\"item in list\" :label=\"item.subjects_name\" :value=\"item.subjects_name+'-'+item.subjects_number\"></el-option>-->\r\n                            <!--</el-select>-->\r\n                        <!--</template>-->\r\n                        <template slot-scope=\"scope\">\r\n                            <el-form-item style=\"margin-bottom: 0\" label=\"\" :prop=\"'tableData.' + scope.$index +'.name'\" :rules=\"[{ required: true, message: '请输入科目', trigger: 'change' }]\">\r\n                                <el-select filterable v-model=\"scope.row.name\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                                    <el-option :key=\"item.id\" v-for=\"(item,index) in list\" :label=\"item.new_subjects_name\" :value=\"item.subjects_name+','+item.subjects_number\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"\"\r\n                            label=\"摘要\"\r\n                            width=\"180\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-form-item style=\"margin-bottom: 0\" label=\"\" :prop=\"'tableData.' + scope.$index +'.zhaiyao'\" :rules=\"[{ required: true, message: '请输入摘要', trigger: 'blur' }]\">\r\n                                <el-input v-model=\"scope.row.zhaiyao\" placeholder=\"\"></el-input>\r\n                            </el-form-item>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"\"\r\n                            label=\"借方金额\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input @input=\"jie_change(scope.row)\" :disabled=\"scope.row.jie_show\" v-model=\"scope.row.jie\" placeholder=\"\"></el-input>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"\"\r\n                            label=\"贷方金额\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input @input=\"dai_change(scope.row)\" :disabled=\"scope.row.dai_show\" v-model=\"scope.row.dai\" placeholder=\"\"></el-input>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <!--<el-table-column-->\r\n                            <!--fixed=\"right\"-->\r\n                            <!--label=\"操作\"-->\r\n                            <!--width=\"150\">-->\r\n                        <!--<template slot-scope=\"scope\">-->\r\n                            <!--<el-button @click=\"add\" type=\"text\" size=\"small\">增加</el-button>-->\r\n                        <!--</template>-->\r\n                    <!--</el-table-column>-->\r\n                </el-table>\r\n                </el-form>\r\n\r\n                <div style=\"color: #909399;margin-top: 10px;margin-left: 10px\">借方合计:{{heji}}</div>\r\n                <div style=\"color: #909399;margin-top: 10px;margin-left: 10px\">贷方合计:{{heji1}}</div>\r\n\r\n\r\n                <div style=\"margin-top: 2vh\">\r\n                    <el-checkbox v-model=\"checked\">同时生成流水</el-checkbox>\r\n                </div>\r\n                <div style=\"display: flex;justify-content: center;margin-top: 5vh;\">\r\n\r\n                    <el-button type=\"warning\" @click=\"save\">保存</el-button>\r\n\r\n                    <el-button type=\"info\" style=\"margin-left: 5vw\" @click=\"$router.push({path: '/home/pingzhengguanli/xinzengfapiao',query:{'from':'fapiaoguanli'}})\">返回</el-button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <gudingzichan v-if=\"gudingzichan_kaiguan\" @gudingzichan_jieshou=\"gudingzichan_jieshou\"></gudingzichan>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mix from \"@/mixins/mixins\"\r\n    import gudingzichan from \"@/components/yuchunhui/add_gudingzichan\"\r\n\r\n    export default {\r\n        name: \"xianjinliuliangbiao\",\r\n        mixins:[mix],\r\n        watch:{\r\n            'user.tableData': {\r\n                handler(newName, oldName) {\r\n                    // 判断信息是否填写完整\r\n                    let jie_num = 0\r\n                    let dai_num = 0\r\n\r\n                    this.user.tableData.forEach(item=>{\r\n                        // 计算总数\r\n                        if(item.jie != \"\"){\r\n                            jie_num += Number(item.jie)\r\n                        }\r\n                        if(item.dai != \"\"){\r\n                            dai_num += Number(item.dai)\r\n                        }\r\n                    })\r\n                    this.heji = jie_num\r\n                    this.heji1 = dai_num\r\n                },\r\n                deep:true\r\n            },\r\n            // 'guding_form': {\r\n            //     handler(newName, oldName) {\r\n            //         // 剩余 = 预计 - 折旧\r\n            //         //这俩个都为数字且不为空时\r\n            //         if(!isNaN(Number(this.guding_form.getMonth)) && !isNaN(Number(this.guding_form.setMonth)) && this.guding_form.getMonth !==\"\" && this.guding_form.setMonth !==\"\"){\r\n            //\r\n            //             if(this.guding_form.getMonth <= this.guding_form.setMonth){\r\n            //                 this.guding_form.shengyu = this.guding_form.setMonth - this.guding_form.getMonth\r\n            //\r\n            //                 //如果剩余有了才算这个\r\n            //                 if(this.guding_form.zMoeny !== \"\" && this.guding_form.residualValue !== \"\" && !isNaN(Number(this.guding_form.zMoeny)) && !isNaN(Number(this.guding_form.residualValue))){\r\n            //                     let meiyue = (this.guding_form.zMoeny * (1 - this.guding_form.residualValue*0.01) / this.guding_form.shengyu).toFixed(2)\r\n            //                     if(meiyue<0){\r\n            //                         this._message(2,\"每月折旧额不得小于0\")\r\n            //                         this.guding_form.meiyue = \"\"\r\n            //                     }else{\r\n            //                         this.guding_form.meiyue = meiyue\r\n            //                     }\r\n            //                 }else{\r\n            //                     this.guding_form.meiyue = \"\"\r\n            //                 }\r\n            //\r\n            //             }else{\r\n            //                 this._message(2,\"已折旧月份不得大于预计使用月份\")\r\n            //                 this.guding_form.shengyu = \"\"\r\n            //             }\r\n            //             //否则变为\"\"\r\n            //         }else{\r\n            //             this.guding_form.shengyu = \"\"\r\n            //         }\r\n            //     },\r\n            //     deep:true\r\n            // },\r\n            // // // 预计使用月份\r\n            // // 'guding_form.setMonth': {\r\n            // //     handler(newName, oldName) {\r\n            // //         this.guding_form.shengyu = this.guding_form.setMonth - this.guding_form.getMonth\r\n            // //     },\r\n            // // },\r\n            // // //已折旧月份\r\n            // // 'guding_form.getMonth': {\r\n            // //     handler(newName, oldName) {\r\n            // //         this.guding_form.shengyu = this.guding_form.setMonth - this.guding_form.getMonth\r\n            // //     },\r\n            // // },\r\n            // // //资产原值\r\n            // // 'guding_form.zMoeny': {\r\n            // //     handler(newName, oldName) {\r\n            // //\r\n            // //         this.guding_form.meiyue = this.guding_form.zMoeny * (1 - this.guding_form.residualValue*0.01) / this.guding_form.shengyu\r\n            // //\r\n            // //     },\r\n            // // },\r\n            // // // 剩余使用月份\r\n            // // 'guding_form.shengyu': {\r\n            // //     handler(newName, oldName) {\r\n            // //\r\n            // //         this.guding_form.meiyue = this.guding_form.zMoeny * (1 - this.guding_form.residualValue*0.01) / this.guding_form.shengyu\r\n            // //\r\n            // //     },\r\n            // // },\r\n            // //残值率\r\n            // 'guding_form.residualValue': {\r\n            //     handler(newName, oldName) {\r\n            //         if(newName > 100){\r\n            //             this._message(2,\"残值率不得大于100\")\r\n            //         }\r\n            //     },\r\n            // },\r\n            // // 资产类别\r\n            // 'guding_form.assetClassify':{\r\n            //     handler(newName, oldName) {\r\n            //         if(this.guding_form.assetClassify == 1 || this.guding_form.flag == 1){\r\n            //             this.guding_form.residualValue = 10\r\n            //         }else{\r\n            //             this.guding_form.residualValue = 5\r\n            //         }\r\n            //     },\r\n            // },\r\n            // //企业类别\r\n            // 'guding_form.flag': {\r\n            //     handler(newName, oldName) {\r\n            //         if(this.guding_form.assetClassify == 1 || this.guding_form.flag == 1){\r\n            //             this.guding_form.residualValue = 10\r\n            //         }else{\r\n            //             this.guding_form.residualValue = 5\r\n            //         }\r\n            //     },\r\n            // },\r\n\r\n\r\n\r\n        },\r\n        components:{\r\n            gudingzichan\r\n        },\r\n\r\n\r\n        data() {\r\n            return {\r\n                gudingzichan_kaiguan:false,\r\n                heji:0,\r\n                heji1:0,\r\n\r\n                subject_guding:[],\r\n                guding_type:'',\r\n                // dialogVisible_guding:false,\r\n                // guding_rules: {\r\n                //     assetName: [\r\n                //         { required: true, message: '请输入资产名称', trigger: 'blur' },\r\n                //     ],\r\n                //     assetClassify: [\r\n                //         { required: true, message: '请选择资产类别', trigger: 'change' },\r\n                //     ],\r\n                //     startDate: [\r\n                //         { required: true, message: '请选择开始使用日期', trigger: 'change' },\r\n                //     ],\r\n                //     assetSubjects: [\r\n                //         { required: true, message: '请选择科目', trigger: 'change' },\r\n                //     ],\r\n                //     zMoeny: [\r\n                //         { required: true, message: '请输入资产原值', trigger: 'blur' },\r\n                //         { type: 'number', message: '必须为数字值'}\r\n                //     ],\r\n                //     flag: [\r\n                //         { required: true, message: '请选择企业类别', trigger: 'change' },\r\n                //     ],\r\n                //     residualValue: [\r\n                //         { required: true, message: '请输入残值率', trigger: 'blur' },\r\n                //         { type: 'number', message: '必须为数字值'}\r\n                //     ],\r\n                //     setMonth: [\r\n                //         { required: true, message: '请输入预计使用月份', trigger: 'blur' },\r\n                //         { type: 'number', message: '年龄必须为数字值'}\r\n                //     ],\r\n                //     getMonth: [\r\n                //         { required: true, message: '请输入已折旧月份', trigger: 'blur' },\r\n                //         { type: 'number', message: '必须为数字值'}\r\n                //     ],\r\n                //     setZMoney: [\r\n                //         { required: true, message: '请输入累计折旧', trigger: 'blur' },\r\n                //         { type: 'number', message: '必须为数字值'}\r\n                //     ],\r\n                //     getZMoney: [\r\n                //         { required: true, message: '请输入减值准备', trigger: 'blur' },\r\n                //         { type: 'number', message: '必须为数字值'}\r\n                //     ],\r\n                // },\r\n                // // 固定资产\r\n                guding_form:{\r\n                    assetName:'',\r\n                    assetClassify:\"\",\r\n                    startDate:new Date().getFullYear() + '-' + (Array(2).join(0) + (Number(new Date().getMonth())+1)).slice(-2) + '-' + (Array(2).join(0) + (Number(new Date().getDate()))).slice(-2),\r\n                    // 科目\r\n                    assetSubjects:\"\",\r\n                    // 资产原值\r\n                    zMoeny:\"\",\r\n                    flag:'',\r\n                    // 残值率\r\n                    residualValue:5,\r\n\r\n                    //预计使用月份\r\n                    setMonth:'',\r\n                    //已折旧月份\r\n                    getMonth:0,\r\n\r\n                    // 累计折旧\r\n                    setZMoney:0,\r\n                    // 减值准备\r\n                    getZMoney:0,\r\n\r\n                    shengyu:'',\r\n                    meiyue:'',\r\n                },\r\n\r\n                pickerOptions: {\r\n                    disabledDate(time) {\r\n                        return time.getTime() < new Date(JSON.parse(localStorage.getItem('start_date'))) - 24 * 3600 * 1000;\r\n                    },\r\n                },\r\n                // 是否点击了生成凭证\r\n                shengchengpingzheng:false,\r\n                // 第一分类的列表\r\n                one:[],\r\n                // 第二分类的列表\r\n                two:[],\r\n                form: {\r\n                    //描述\r\n                    comment:\"\",\r\n\r\n                    // 后台要的俩个参数\r\n                    subjectId:'',\r\n                    parentId:'',\r\n                    // 方向\r\n                    direction: '',\r\n                    // 俩个分类\r\n                    one1:'',\r\n                    two1:\"\",\r\n                    classify: '',\r\n                    // 交易方式\r\n                    payMoney:'',\r\n                    // 支付状态\r\n                    type:'',\r\n                    // 凭证字号\r\n                    code:'',\r\n                    // 日期\r\n\r\n                    accountsDate:new Date().getFullYear() + '-' + (Array(2).join(0) + (Number(new Date().getMonth())+1)).slice(-2) + '-' + (Array(2).join(0) + new Date().getDate()).slice(-2),\r\n                },\r\n                user:{\r\n                    tableData: [{name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:0},\r\n                        {name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:1},\r\n                        {name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:2},],\r\n                },\r\n\r\n                index:0,\r\n                list:[],\r\n                checked:false,\r\n                rules: {\r\n                    accountsDate: [\r\n                        { required: true, message: '请选择日期', trigger: 'change' },\r\n                    ],\r\n                    direction: [\r\n                        { required: true, message: '请选择方向', trigger: 'change' },\r\n                    ],\r\n                    one1: [\r\n                        { required: true, message: '请选择分类一', trigger: 'blur' },\r\n                    ],\r\n\r\n                    money: [\r\n                        { required: true, message: '请输入金额', trigger: 'blur' },\r\n                    ],\r\n                    type: [\r\n                        { required: true, message: '请选择支付方式', trigger: 'change' },\r\n                    ],\r\n                    comment: [\r\n                        { required: true, message: '请输入描述', trigger: 'blur' },\r\n                    ],\r\n                    payMoney: [\r\n                        { required: true, message: '请选择交易方式', trigger: 'change' },\r\n                    ],\r\n                },\r\n            }\r\n\r\n        },\r\n        mounted(){\r\n            this.getStorage()\r\n\r\n            this.pingzhengzihao()\r\n\r\n            this._ajax('userAccounts/selectClassName',{\r\n            }, msg => {\r\n                this.list = msg\r\n                // this._message(1,\"会计科目成功\")\r\n            })\r\n            if(this.$route.query.checked == \"false\"){\r\n                this.checked = false\r\n            }else{\r\n                this.checked = true\r\n            }\r\n        },\r\n        methods: {\r\n            // 接受固定资产\r\n            gudingzichan_jieshou(x){\r\n                if(x == 0){\r\n                    this.gudingzichan_kaiguan = false\r\n                }else{\r\n                    this.guding_form = x\r\n                    this.tiqubaocun(\"guding\")\r\n                }\r\n            },\r\n            //type==guding是固定资产\r\n            tiqubaocun(type){\r\n                let certificateAbstract = ''\r\n                let totalDebitMoney = ''\r\n                let totalCreditMoney = ''\r\n                let accountantSubject = ''\r\n                let accountantCode = ''\r\n                // 如果点击了生成凭证才执行\r\n                if(this.shengchengpingzheng){\r\n                    this.user.tableData.forEach(item=>{\r\n                        certificateAbstract += item.zhaiyao + ','\r\n                        if(item.jie == ''){\r\n                            totalDebitMoney+= 0+','\r\n                        }else{\r\n                            totalDebitMoney+= item.jie+','\r\n                        }\r\n                        if(item.dai == ''){\r\n                            totalCreditMoney+= 0+','\r\n                        }else{\r\n                            totalCreditMoney+= item.dai+','\r\n                        }\r\n                        accountantSubject += item.name.split(',')[0]+','\r\n                        accountantCode += item.name.split(',')[1]+','\r\n                    })\r\n                }\r\n                //如果是固定资产\r\n                if(type == \"guding\"){\r\n                    // 如果添加流水和凭证\r\n                    if(this.checked){\r\n                        //第一行的摘要是描述\r\n                        this.form.comment = this.user.tableData[0].zhaiyao\r\n                        this._ajax('userAccounts/addFlowingWaterInvoiceCertificate',{\r\n                            uuid:this.uuid,\r\n                            workAccountId:this.accountId,\r\n                            certificateAbstract,\r\n                            totalDebitMoney,\r\n                            totalCreditMoney,\r\n                            accountantSubject,\r\n                            accountantCode,\r\n                            ...this.form,\r\n                            time:this.form.accountsDate,\r\n                            certificateNumber:this.form.code,\r\n                            ...JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")),\r\n                            type1:0,\r\n                            ...this.guding_form,\r\n                            type2:1\r\n                        }, msg => {\r\n                            this._message(1,\"保存成功\")\r\n                            sessionStorage.removeItem('tianjiafapiao_data');\r\n                            this.$router.push({path:\"/home/fapiao/fapiaoguanli\"})\r\n                        })\r\n                        // 如果不添加流水\r\n                    }else{\r\n                        this._ajax('userAccounts/addCertificateInvoice',{\r\n                            uuid:this.uuid,\r\n                            workAccountId:this.accountId,\r\n                            certificateAbstract,\r\n                            totalDebitMoney,\r\n                            totalCreditMoney,\r\n                            accountantSubject,\r\n                            accountantCode,\r\n                            time:this.form.accountsDate,\r\n                            certificateNumber:this.form.code,\r\n                            ...JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")),\r\n                            type1:0,\r\n                            ...this.guding_form,\r\n                            type2:1\r\n                        }, msg => {\r\n                            this._message(1,\"保存成功\")\r\n                            sessionStorage.removeItem('tianjiafapiao_data');\r\n                            this.$router.push({path:\"/home/fapiao/fapiaoguanli\"})\r\n                        })\r\n                    }\r\n                }else{\r\n                    // 如果添加流水和凭证\r\n                    if(this.checked){\r\n\r\n                        this.form.comment = this.user.tableData[0].zhaiyao\r\n                        this._ajax('userAccounts/addFlowingWaterInvoiceCertificate',{\r\n                            uuid:this.uuid,\r\n                            workAccountId:this.accountId,\r\n                            certificateAbstract,\r\n                            totalDebitMoney,\r\n                            totalCreditMoney,\r\n                            accountantSubject,\r\n                            accountantCode,\r\n                            ...this.form,\r\n                            time:this.form.accountsDate,\r\n                            certificateNumber:this.form.code,\r\n                            ...JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")),\r\n                            type1:0,\r\n                        }, msg => {\r\n                            this._message(1,\"保存成功\")\r\n                            sessionStorage.removeItem('tianjiafapiao_data');\r\n                            this.$router.push({path:\"/home/fapiao/fapiaoguanli\"})\r\n                        })\r\n                        // 如果不添加流水\r\n                    }else{\r\n                        this._ajax('userAccounts/addCertificateInvoice',{\r\n                            uuid:this.uuid,\r\n                            workAccountId:this.accountId,\r\n                            certificateAbstract,\r\n                            totalDebitMoney,\r\n                            totalCreditMoney,\r\n                            accountantSubject,\r\n                            accountantCode,\r\n                            time:this.form.accountsDate,\r\n                            certificateNumber:this.form.code,\r\n                            ...JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")),\r\n                            type1:0,\r\n                        }, msg => {\r\n                            this._message(1,\"保存成功\")\r\n                            sessionStorage.removeItem('tianjiafapiao_data');\r\n                            this.$router.push({path:\"/home/fapiao/fapiaoguanli\"})\r\n                        })\r\n                    }\r\n                }\r\n            },\r\n            //切换凭证字号\r\n            pingzhengzihao(){\r\n                this._ajax('userHomePage/selectCertificateNumber',{\r\n                    uuid:this.uuid,\r\n                    workAccountId:this.accountId,\r\n                    time:this.form.accountsDate,\r\n                }, msg => {\r\n                    this.form.code = msg.number\r\n                    // this._message(1,\"凭证字号成功\")\r\n                })\r\n            },\r\n            // 生成凭证\r\n            btn_shengchengpingzheng(){\r\n                this.user.tableData =  [{name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:0},\r\n                    {name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:1},\r\n                    {name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:2},]\r\n                // 有第二个分类的必选第二分类\r\n                if(this.two.length != 0 && this.form.classify == \"\"){\r\n                    this._message(2,\"有二级分类必须选择二级分类\")\r\n                    return\r\n                }\r\n                this.$refs['form'].validate((valid) => {\r\n                    if (valid) {\r\n                        // 第一行的科目为分类\r\n                        if(this.form.two1.split(\",\")[4] == \"220201\"){\r\n                            this.user.tableData[0].name = \"应付账款,220201\"\r\n                        }else if(this.form.two1.split(\",\")[4] == \"1101\"){\r\n                            this.user.tableData[0].name = \"股票,110101\"\r\n                        }else if(this.form.two1.split(\",\")[4] == \"1002\"){\r\n                            this.user.tableData[0].name = \"默认银行账户,100201\"\r\n                        }else if(this.form.two1.split(\",\")[4] == \"1001\"){\r\n                            this.user.tableData[0].name = \"人民币,100101\"\r\n                        }\r\n                        else{\r\n                            this.user.tableData[0].name = this.form.two1.split(\",\")[2] + ',' +this.form.two1.split(\",\")[4]\r\n                        }\r\n\r\n                        // 第二行(已付的情况下)由交易方式决定\r\n                        if(this.form.type == 1){\r\n                            if(this.form.payMoney == 0){\r\n                                this.user.tableData[1].name = \"默认银行账户,100201\"\r\n\r\n                            }else if(this.form.payMoney == 1){\r\n                                // this.user.tableData[1].name = \"库存现金-1001\"\r\n                                this.user.tableData[1].name = \"人民币,100101\"\r\n\r\n                            }else if(this.form.payMoney == 2){\r\n                                this.user.tableData[1].name = \"微信公司账户,100203\"\r\n\r\n                            }else if(this.form.payMoney == 3){\r\n                                this.user.tableData[1].name = \"微信法人账户,101202\"\r\n\r\n                            }else if(this.form.payMoney == 4){\r\n                                this.user.tableData[1].name = \"支付宝公司账户,100202\"\r\n\r\n                            }else if(this.form.payMoney == 5){\r\n                                this.user.tableData[1].name = \"支付宝法人账户,101201\"\r\n                            }\r\n                            // (未付的情况下)由收支决定\r\n                        }else if(this.form.type == 0){\r\n                            if(this.form.direction == 0){\r\n                                this.user.tableData[1].name = \"应收账款,112201\"\r\n                            }else if(this.form.direction == 1){\r\n                                this.user.tableData[1].name = \"应付账款,220201\"\r\n                            }\r\n                        }\r\n\r\n                        // 第一行的金额和第二行相反\r\n                        if(this.form.direction == 1){\r\n                            this.user.tableData[0].dai_show = true\r\n                            this.user.tableData[0].jie = JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).priceTaxTotal\r\n                            this.user.tableData[1].jie_show = true\r\n                            this.user.tableData[1].dai = JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).money\r\n                        }else if(this.form.direction == 0){\r\n                            this.user.tableData[0].jie_show = true\r\n                            this.user.tableData[0].dai = JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).priceTaxTotal\r\n                            this.user.tableData[1].dai_show = true\r\n                            this.user.tableData[1].jie = JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).money\r\n                        }\r\n\r\n                        // 第三行:収(0)销项是贷,支(1)进项是借\r\n                        if(this.form.direction == 1){\r\n                            this.user.tableData[2].name = \"进项税额,22210101\"\r\n                            this.user.tableData[2].dai_show = true\r\n                            this.user.tableData[2].jie = Number(JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).priceTaxTotal - ((JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).money))).toFixed(2)\r\n                        }else if(this.form.direction == 0){\r\n                            this.user.tableData[2].name = \"销项税额,22210106\"\r\n                            this.user.tableData[2].jie_show = true\r\n                            this.user.tableData[2].dai = Number(JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).priceTaxTotal- ((JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).money))).toFixed(2)\r\n                        }\r\n\r\n                        this.shengchengpingzheng = true\r\n\r\n                    }else{\r\n                        this._message(2,\"请先将信息填写完整\")\r\n                        return false;\r\n                    }\r\n                })\r\n\r\n            },\r\n            jie_change(e){\r\n                let index = this.user.tableData.findIndex(item=>{\r\n                    return item.index == e.index\r\n                })\r\n                let x = false\r\n                for(let i in e.jie){\r\n                    if(e.jie[i] != \"\" && i!=\"dian\"){\r\n                        x = true\r\n                        break\r\n                    }\r\n                }\r\n                if(x){\r\n                    this.user.tableData[index].dai_show = true\r\n                }else{\r\n                    this.user.tableData[index].dai_show = false\r\n                    this.user.tableData[index].jie_show = false\r\n                }\r\n            },\r\n            dai_change(e){\r\n                let index = this.user.tableData.findIndex(item=>{\r\n                    return item.index == e.index\r\n                })\r\n                let x = false\r\n                for(let i in e.dai){\r\n                    if(e.dai[i] != \"\" && i!=\"dian\"){\r\n                        x = true\r\n                        break\r\n                    }\r\n                }\r\n                if(x){\r\n                    this.user.tableData[index].jie_show = true\r\n                }else{\r\n                    this.user.tableData[index].dai_show = false\r\n                    this.user.tableData[index].jie_show = false\r\n                }\r\n            },\r\n            add(){\r\n                this.index+=1\r\n                this.user.tableData.push({name:'',zhaiyao:'',jie:\"\",dai:\"\",jie_show:false,dai_show:false,index:this.index})\r\n            },\r\n            // 选择方向后\r\n            change_fangxiang(a){\r\n                this._ajax('userAccounts/selectSubjectsDictionary',{\r\n                    uuid:this.uuid,\r\n                    accountId:this.accountId,\r\n                    name:'',\r\n                    flag:this.form.direction\r\n                }, msg => {\r\n                    this.one = msg\r\n                    this.form.one1 = \"\"\r\n                    this.form.two1 = \"\"\r\n                    // this._message(1,\"一级分类成功\")\r\n                })\r\n            },\r\n            // 选择二级分类后\r\n            change_two(a){\r\n                //console.log(a) //id pid name type code\r\n                // 后台要的第二分类的名字\r\n                this.form.classify = a.split(\",\")[2]\r\n                // 后台要的\r\n                this.form.parentId = a.split(\",\")[1]\r\n                this.form.subjectId = a.split(\",\")[0]\r\n                // 是不是固定资产\r\n                this.guding_type = a.split(\",\")[3]\r\n            },\r\n            // 选择一级后\r\n            change_one(a){\r\n                this._ajax('userAccounts/selectSubjects2Dictionary',{\r\n                    uuid:this.uuid,\r\n                    accountId:this.accountId,\r\n                    id:a,\r\n                    flag:this.form.direction,\r\n                    name:''\r\n                }, msg => {\r\n                    this.two = msg\r\n                    this.form.two1 = \"\"\r\n                    // this._message(1,\"二级分类成功\")\r\n                })\r\n            },\r\n            //保存按钮\r\n            save(){\r\n                if(isNaN(Number(this.form.code)) || Number(this.form.code) <=0) {\r\n                    this._message(2, \"凭证字号格式不正确\")\r\n                    return\r\n                }\r\n                //必须生成凭证\r\n                if(!this.shengchengpingzheng){\r\n                    this._message(2,\"请生成凭证\")\r\n                    return\r\n                }\r\n                // 判断信息是否填写完整\r\n                let jie_num = 0\r\n                let dai_num = 0\r\n                let error = false\r\n                this.user.tableData.forEach(item=>{\r\n                    if(item.jie == \"\" && item.dai ==\"\"){\r\n                        error = true\r\n                        return\r\n                    }\r\n                    if(item.jie != \"\"){\r\n                        jie_num += Number(item.jie)\r\n                    }\r\n                    if(item.dai != \"\"){\r\n                        dai_num += Number(item.dai)\r\n                    }\r\n                })\r\n                if(error){\r\n                    this._message(2,\"请将信息填写完整\")\r\n                    return\r\n                }\r\n                this.$refs[\"user\"].validate((valid) => {\r\n                    if (valid) {\r\n                        // 判断是否借贷平衡\r\n                        if(jie_num != dai_num){\r\n                            this._message(2,\"借贷不平衡\")\r\n                            return\r\n                        }\r\n                        // 如果是固定资产\r\n                        if(JSON.parse(sessionStorage.getItem(\"tianjiafapiao_data\")).money > 5000 && this.guding_type == 1 ){\r\n                            this.gudingzichan_kaiguan = true\r\n                            return\r\n                        }\r\n                        //如果不是固定资产\r\n                        this.tiqubaocun()\r\n                    }else{\r\n                       return false\r\n                    }\r\n                })\r\n\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .el-table .lan {\r\n        background: rgba(68, 160, 255, 0.05);\r\n    }\r\n\r\n    .has-gutter {\r\n        background: red !important;\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/fapiao/tianjiapingzheng.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#FFF\",\"padding\":\"2vw\"}},[_c('div',{staticStyle:{\"font-size\":\"30px\",\"color\":\"#1C2023\",\"text-align\":\"center\"}},[_vm._v(\"添加凭证\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid #F8F8FF\",\"padding\":\"2vh 2vw\",\"margin-top\":\"2vh\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"60%\"}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticStyle:{\"width\":\"40%\"}},[_c('el-form-item',{attrs:{\"label\":\"方向：\",\"prop\":\"direction\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.change_fangxiang},model:{value:(_vm.form.direction),callback:function ($$v) {_vm.$set(_vm.form, \"direction\", $$v)},expression:\"form.direction\"}},[_c('el-option',{attrs:{\"label\":\"收\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"支\",\"value\":\"1\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"25%\"}},[_c('el-form-item',{attrs:{\"label\":\"分类：\",\"prop\":\"one1\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请先选择方向\"},on:{\"change\":_vm.change_one},model:{value:(_vm.form.one1),callback:function ($$v) {_vm.$set(_vm.form, \"one1\", $$v)},expression:\"form.one1\"}},_vm._l((_vm.one),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"25%\"}},[_c('el-form-item',{attrs:{\"label\":\" \"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请先选择一级分类\"},on:{\"change\":_vm.change_two},model:{value:(_vm.form.two1),callback:function ($$v) {_vm.$set(_vm.form, \"two1\", $$v)},expression:\"form.two1\"}},_vm._l((_vm.two),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.new_subjects_name,\"value\":((item.id) + \",\" + (item.parent_id) + \",\" + (item.name) + \",\" + (item.type) + \",\" + (item.code))}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"60%\"}},[_c('el-form-item',{attrs:{\"label\":\"交易方式：\",\"prop\":\"payMoney\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.payMoney),callback:function ($$v) {_vm.$set(_vm.form, \"payMoney\", $$v)},expression:\"form.payMoney\"}},[_c('el-option',{attrs:{\"label\":\"银行转账\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"现金支付\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"微信（公司账号）\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"微信（法人个人账号）\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"支付宝（公司账号）\",\"value\":\"4\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"支付宝（法人个人账号）\",\"value\":\"5\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"30%\"}},[_c('el-form-item',{attrs:{\"label\":\"支付状态\",\"label-width\":\"100px\",\"prop\":\"type\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-option',{attrs:{\"label\":\"已付\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"未付\",\"value\":\"0\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"30%\"}},[_c('el-form-item',{attrs:{\"label\":\"凭证字号：\",\"prop\":\"code\"}},[_c('el-form-item',{attrs:{\"label\":\"第\",\"prop\":\"code\",\"label-width\":\"20px\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1%\"}},[_c('el-form-item',{attrs:{\"label\":\"号\",\"prop\":\"\",\"label-width\":\"30px\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"20%\"}},[_c('el-form-item',{attrs:{\"label\":\"日期：\",\"prop\":\"\"}},[_c('el-date-picker',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"picker-options\":_vm.pickerOptions,\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\"},on:{\"change\":_vm.pingzhengzihao},model:{value:(_vm.form.accountsDate),callback:function ($$v) {_vm.$set(_vm.form, \"accountsDate\", $$v)},expression:\"form.accountsDate\"}})],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"40%\",\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-start\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.btn_shengchengpingzheng}},[_vm._v(\"生成凭证\")])],1)]),_vm._v(\" \"),_c('el-form',{ref:\"user\",attrs:{\"model\":_vm.user}},[(_vm.shengchengpingzheng)?_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.user.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"科目\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"},attrs:{\"label\":\"\",\"prop\":'tableData.' + scope.$index +'.name',\"rules\":[{ required: true, message: '请输入科目', trigger: 'change' }]}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}},_vm._l((_vm.list),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.new_subjects_name,\"value\":item.subjects_name+','+item.subjects_number}})}),1)],1)]}}],null,false,2872219878)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"摘要\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"},attrs:{\"label\":\"\",\"prop\":'tableData.' + scope.$index +'.zhaiyao',\"rules\":[{ required: true, message: '请输入摘要', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(scope.row.zhaiyao),callback:function ($$v) {_vm.$set(scope.row, \"zhaiyao\", $$v)},expression:\"scope.row.zhaiyao\"}})],1)]}}],null,false,1407594580)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"借方金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":scope.row.jie_show,\"placeholder\":\"\"},on:{\"input\":function($event){return _vm.jie_change(scope.row)}},model:{value:(scope.row.jie),callback:function ($$v) {_vm.$set(scope.row, \"jie\", $$v)},expression:\"scope.row.jie\"}})]}}],null,false,4195219088)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"贷方金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":scope.row.dai_show,\"placeholder\":\"\"},on:{\"input\":function($event){return _vm.dai_change(scope.row)}},model:{value:(scope.row.dai),callback:function ($$v) {_vm.$set(scope.row, \"dai\", $$v)},expression:\"scope.row.dai\"}})]}}],null,false,1165719386)})],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#909399\",\"margin-top\":\"10px\",\"margin-left\":\"10px\"}},[_vm._v(\"借方合计:\"+_vm._s(_vm.heji))]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#909399\",\"margin-top\":\"10px\",\"margin-left\":\"10px\"}},[_vm._v(\"贷方合计:\"+_vm._s(_vm.heji1))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"2vh\"}},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"同时生成流水\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-top\":\"5vh\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5vw\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.$router.push({path: '/home/pingzhengguanli/xinzengfapiao',query:{'from':'fapiaoguanli'}})}}},[_vm._v(\"返回\")])],1)],1)]),_vm._v(\" \"),(_vm.gudingzichan_kaiguan)?_c('gudingzichan',{on:{\"gudingzichan_jieshou\":_vm.gudingzichan_jieshou}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-08d51cd7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/fapiao/tianjiapingzheng.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08d51cd7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tianjiapingzheng.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tianjiapingzheng.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tianjiapingzheng.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08d51cd7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tianjiapingzheng.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fapiao/tianjiapingzheng.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}