webpackJsonp([34],{VRDp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("4YfN"),a=i.n(n),o=i("luk7"),s=i.n(o),l=i("IfhF"),r={components:{VDistpicker:s.a},name:"xianjinliuliangbiao",mixins:[l.a],data:function(){return{shengList:[],shiList:[],xianList:[],sheng:"",shi:"",xian:"",list:[],form:{name:"",companyIndustry:"",companyCity:"",companyAddress:"",companyPeople:"",job:"",phone:"",remarks:""},rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"}]},select:{province:"",city:"",area:""},title:""}},mounted:function(){var t=this;this.getStorage(),this._ajax("weChatLogin/jobList",{workAccountId:this.accountId,uuid:this.uuid},function(e){t.list=e[0].name.split(",")}),"add"==this.$route.query.type?(this.title="添加业务伙伴",this._ajax("userLogin/province",{workAccountId:this.accountId,uuid:this.uuid},function(e){t.shengList=e})):(this._ajax("userLogin/province",{workAccountId:this.accountId,uuid:this.uuid},function(e){t.shengList=e,t._ajax("weChatSupplier/getSupplierById",{accountId:t.accountId,uuid:t.uuid,id:t.$route.query.id},function(e){t.form.name=e.companySupplierName,t.form.companyIndustry=e.companyIndustry,t.form.job=e.companyPeopleJob,t.form.companyAddress=e.companyAddress,t.form.companyPeople=e.companyPeople,t.form.phone=e.companyPeoplePhone,t.form.remarks=e.companyRemarks;var i=e.companyCity.split(",");t.sheng=i[0],t.shi=i[1],t.xian=i[2];var n=t.shengList.filter(function(e){return e.name==t.sheng});t._ajax("userLogin/city",{workAccountId:t.accountId,uuid:t.uuid,id:n.id},function(e){t.shiList=e;var i=t.shiList.filter(function(e){return e.name==t.sheng});t._ajax("userLogin/area",{workAccountId:t.accountId,uuid:t.uuid,id:i.id},function(e){t.xianList=e})})})}),this.title="修改业务伙伴")},methods:{change_sheng:function(t){var e=this;this.sheng=t.name,this.shi="",this.xian="",this._ajax("userLogin/city",{workAccountId:this.accountId,uuid:this.uuid,id:t.id},function(t){e.shiList=t})},change_shi:function(t){var e=this;this.shi=t.name,this.xian="",this._ajax("userLogin/area",{workAccountId:this.accountId,uuid:this.uuid,id:t.id},function(t){e.xianList=t})},change_xian:function(t){this.xian=t.name},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.selected(),"添加业务伙伴"==e.title?e._ajax("weChatSupplier/add",a()({accountId:e.accountId,uuid:e.uuid},e.form),function(t){e._message(1,"添加成功"),e.$router.go(-1)}):e._ajax("weChatSupplier/updateSupplierById",a()({accountId:e.accountId,uuid:e.uuid},e.form,{id:e.$route.query.id}),function(t){e._message(1,"修改成功"),e.$router.go(-1)})})},selected:function(){this.form.companyCity=this.sheng+","+this.shi+","+this.xian}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw"}},[i("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"110px",rules:t.rules}},[i("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"公司名称：",prop:"name"}},[i("el-input",{staticStyle:{width:"100%"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"行业："}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.companyIndustry,callback:function(e){t.$set(t.form,"companyIndustry",e)},expression:"form.companyIndustry"}},t._l(t.list,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"所在城市："}},[i("el-col",{attrs:{span:7}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择省"},on:{change:t.change_sheng},model:{value:t.sheng,callback:function(e){t.sheng=e},expression:"sheng"}},t._l(t.shengList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})}),1)],1),t._v(" "),i("el-col",{attrs:{span:7,offset:1}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请先选择省"},on:{change:t.change_shi},model:{value:t.shi,callback:function(e){t.shi=e},expression:"shi"}},t._l(t.shiList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})}),1)],1),t._v(" "),i("el-col",{attrs:{span:8,offset:1}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请先选择市"},on:{change:t.change_xian},model:{value:t.xian,callback:function(e){t.xian=e},expression:"xian"}},t._l(t.xianList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})}),1)],1)],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"详细地址："}},[i("el-input",{staticStyle:{width:"100%"},model:{value:t.form.companyAddress,callback:function(e){t.$set(t.form,"companyAddress",e)},expression:"form.companyAddress"}})],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"联系人姓名："}},[i("el-input",{staticStyle:{width:"100%"},model:{value:t.form.companyPeople,callback:function(e){t.$set(t.form,"companyPeople",e)},expression:"form.companyPeople"}})],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"联系人职务："}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.job,callback:function(e){t.$set(t.form,"job",e)},expression:"form.job"}},[i("el-option",{attrs:{label:"上层部门（董事长、总经理、总经理秘书）",value:"0"}}),t._v(" "),i("el-option",{attrs:{label:"财务部门（财务总监（主管）、会计（总账会计、成本会计、往来会计）、出纳",value:"1"}}),t._v(" "),i("el-option",{attrs:{label:"人事部门（人事经理（主管）、人事助理（文员）",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"其他部门",value:"3"}})],1)],1)],1),t._v(" "),i("div",{staticStyle:{width:"600px"}},[i("el-form-item",{attrs:{label:"联系人电话："}},[i("el-input",{staticStyle:{width:"100%"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),i("div",{staticStyle:{width:"1200px"}},[i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{staticStyle:{width:"100%"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"5vh"}},[i("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.submitForm("form")}}},[t._v("保存")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"5vw"},attrs:{type:"info"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")])],1)])],1)])])},staticRenderFns:[]};var u=i("C7Lr")(r,c,!1,function(t){i("VbH8")},null,null);e.default=u.exports},VbH8:function(t,e){}});
//# sourceMappingURL=34.ed00461004dad078d831.js.map