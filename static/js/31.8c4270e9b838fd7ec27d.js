webpackJsonp([31],{"7MqH":function(t,e){},eR4S:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"xianjinliuliangbiao",mixins:[i("IfhF").a],data:function(){return{editorId:"",dialogVisible1:!1,title:"",add:{subjectsName:""},type:"",tableData:[],total:0,dangqianye:1,pageSize:10}},mounted:function(){this.getStorage(),this.list()},methods:{add_ok:function(){var t=this;this._ajax("userHomePage/updateUserSubjects",{uuid:this.uuid,workAccountId:this.accountId,subjectsName:this.add.subjectsName,idNum:this.editorId},function(e){t._message(1,"修改成功"),t.dialogVisible1=!1,t.list()})},editor:function(t){this.editorId=t.subjectId,this.title="修改"+t.subjects_number,this.add.subjectsName=t.subjects_name,this.dialogVisible1=!0},del:function(t){var e=this;this._ajax("userHomePage/deleteUserSubjects",{uuid:this.uuid,workAccountId:this.accountId,parentId:t.subjects_number.substr(0,4),idNum:t.subjectId},function(t){e._message(1,"删除成功"),e.list()})},a:function(){this.type=0,this.list()},b:function(){this.type=1,this.list()},c:function(){this.type=2,this.list()},d:function(){this.type=3,this.list()},e:function(){this.type=4,this.list()},list:function(){var t=this;this._ajax("userHomePage/selectUserSubjects",{uuid:this.uuid,workAccountId:this.accountId,pageSize:this.pageSize,page:this.dangqianye,type:this.type},function(e){t.tableData=e.PageInfo.list,t.total=e.PageInfo.total})},tableRowClassName:function(t){t.row;return t.rowIndex%2!=0?"lan":""},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pageSize=t,this.list()},handleCurrentChange:function(t){console.log("当前页: "+t),this.dangqianye=t,this.list()}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw"}},[i("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v("科目设置")]),t._v(" "),i("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[i("div",{staticStyle:{display:"flex"}},[i("el-button",{attrs:{type:"info"},on:{click:t.a}},[t._v("资产")]),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:t.b}},[t._v("负债")]),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:t.c}},[t._v("权益")]),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:t.d}},[t._v("成本")]),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:t.e}},[t._v("损益")])],1),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"flex-start"}},[i("el-button",{attrs:{type:""},on:{click:function(e){return t.exportFunc("id","科目报表")}}},[t._v("导出")])],1)]),t._v(" "),i("div",{attrs:{id:"id"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[i("el-table-column",{attrs:{prop:"subjects_number",label:"科目编码",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.flag?i("span",[t._v(t._s(e.row.subjects_number))]):i("span",[t._v("    "+t._s(e.row.subjects_number))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"subjects_name",label:"科目名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"余额方向"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.direction?i("span",[t._v("借")]):i("span",[t._v("贷")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[1!=e.row.flag&&2!=e.row.flag?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.editor(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),2!=e.row.flag&&1!=e.row.flag?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.del(e.row)}}},[t._v("删除")]):t._e(),t._v(" "),1==e.row.flag?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.$router.push({path:"/home/zhangtao/kemushezhi_create_account",query:{type:t.type,parent:e.row.subjects_name,direction:e.row.direction,parentId:e.row.subjects_number}})}}},[t._v("新增")]):t._e()]}}])})],1)],1),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"1vh"}},[i("el-pagination",{attrs:{"current-page":t.dangqianye,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),i("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible1,width:"20%","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible1=e}}},[i("el-form",{attrs:{model:t.add}},[i("el-form-item",{attrs:{label:"科目名称","label-width":"100px"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.add.subjectsName,callback:function(e){t.$set(t.add,"subjectsName",e)},expression:"add.subjectsName"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.add_ok}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=i("C7Lr")(a,n,!1,function(t){i("7MqH")},null,null);e.default=s.exports}});
//# sourceMappingURL=31.8c4270e9b838fd7ec27d.js.map