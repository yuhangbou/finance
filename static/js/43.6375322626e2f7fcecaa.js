webpackJsonp([43],{"5vSz":function(t,e){},"dvF+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),n=a.n(i),l={name:"xianjinliuliangbiao",mixins:[a("IfhF").a],data:function(){return{name:"",dangqianye1:1,total1:0,pageSize1:10,tableData1:[],dialogVisible1:!1,list:[],tableData:[{}],total:0,dangqianye:1,pageSize:10,form:{companyIndustry:"",name:""},multi:"",dialogVisible:!1}},mounted:function(){var t=this;this.getStorage(),this._ajax("weChatLogin/jobList",{workAccountId:this.accountId,uuid:this.uuid},function(e){t.list=e[0].name.split(",")}),this.list1()},methods:{list2:function(){var t=this;this._ajax("weChatSupplier/selectSupplierRecord",{accountId:this.accountId,uuid:this.uuid,page:this.dangqianye1,pageSize:this.pageSize1,payUser:this.name},function(e){t.dialogVisible1=!0,t.tableData1=e.PageInfo.list,t.total1=e.PageInfo.total})},handleSizeChange1:function(t){console.log("每页 "+t+" 条"),this.pageSize1=t,this.list12()},handleCurrentChange1:function(t){console.log("当前页: "+t),this.dangqianye1=t,this.list2()},wanglaijilu:function(t){this.name=t,this.list2()},ensure_del:function(){this.del(),this.dialogVisible=!1},del:function(){var t=this;""!=this.multi?this._ajax("weChatSupplier/delectSupplierById",{accountId:this.accountId,uuid:this.uuid,id:this.multi},function(e){t._message(1,"删除成功"),t.multi="",t.list1()}):this._message(2,"请至少选择一项")},search:function(){this.dangqianye=1,this.list1()},list1:function(){var t=this;this._ajax("weChatSupplier/selectSupplierList",n()({accountId:this.accountId,uuid:this.uuid,page:this.dangqianye,pageSize:this.pageSize},this.form),function(e){t.tableData=e.PageInfo.list,t.total=e.PageInfo.total})},tableRowClassName:function(t){t.row;return t.rowIndex%2!=0?"lan":""},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pageSize=t,this.list1()},handleCurrentChange:function(t){console.log("当前页: "+t),this.dangqianye=t,this.list1()},handleSelectionChange:function(t){var e=t.map(function(t){return t.id});this.multi=e.join(",")},handleClick:function(t){console.log(t),this.$router.push({path:"/home/gongyingshangkehu/add_set"})},delClick:function(t){this.dialogVisible=!0,this.multi=t.id},add:function(){this.$router.push({path:"/home/gongyingshangkehu/add_set",query:{type:"add"}})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{background:"#FFF",padding:"2vh 2vw"}},[a("div",{staticStyle:{"font-size":"30px",color:"#1C2023","text-align":"center"}},[t._v("供应商/客户管理")]),t._v(" "),a("div",{staticStyle:{border:"1px solid #F8F8FF",padding:"2vh 2vw","margin-top":"2vh"}},[a("div",{staticStyle:{"overflow-x":"auto",width:"100%","white-space":"nowrap"}},[a("el-button",{attrs:{type:"warning"},on:{click:t.add}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.del()}}},[t._v("批量删除")]),t._v(" "),a("el-form",{staticStyle:{display:"inline-block","vertical-align":"top"},attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"公司名"}},[a("el-input",{attrs:{clearable:"",placeholder:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"行业"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.companyIndustry,callback:function(e){t.$set(t.form,"companyIndustry",e)},expression:"form.companyIndustry"}},t._l(t.list,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companySupplierName",label:"公司名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyIndustry",label:"行业",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyAddress",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyPeople",label:"联系人",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"联系人职务",width:"290"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.companyPeopleJob?a("span",[t._v("上层部门（董事长、总经理、总经理秘书）")]):1==e.row.companyPeopleJob?a("span",[t._v("财务部门（财务总监（主管）、会计（总账会计、成本会计、往来会计）、出纳")]):2==e.row.companyPeopleJob?a("span",[t._v("人事部门（人事经理（主管）、人事助理（文员）")]):3==e.row.companyPeopleJob?a("span",[t._v("其他部门")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"companyPeoplePhone",label:"联系人电话",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyRemarks",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.wanglaijilu(e.row.companySupplierName)}}},[t._v("往来记录")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push({path:"/home/gongyingshangkehu/add_set",query:{type:"editor",id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.delClick(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"1vh"}},[a("el-pagination",{attrs:{"current-page":t.dangqianye,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("确定删除么")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.ensure_del}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"往来记录",visible:t.dialogVisible1,width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("span",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1}},[a("el-table-column",{attrs:{prop:"creation_time",label:"交易时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_user",label:"分类",width:"180"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"1vh"}},[a("el-pagination",{attrs:{"current-page":t.dangqianye1,"page-sizes":[10,20,30,40],"page-size":t.pageSize1,layout:"total,prev, pager, next, jumper",total:t.total1},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1)])],1)},staticRenderFns:[]};var s=a("C7Lr")(l,o,!1,function(t){a("5vSz")},null,null);e.default=s.exports}});
//# sourceMappingURL=43.6375322626e2f7fcecaa.js.map