{"version":3,"sources":["webpack:///src/pages/zhangtao/zhanghushezhi_add_set.vue","webpack:///./src/pages/zhangtao/zhanghushezhi_add_set.vue?79f9","webpack:///./src/pages/zhangtao/zhanghushezhi_add_set.vue"],"names":["zhanghushezhi_add_set","name","mixins","data","list","title","user","bankCode","moneyType","accountingSubject","rules","required","message","trigger","n","b","m","a","mounted","_this","this","getStorage","_ajax","msg","$route","query","type","uuid","accountId","bankCodeId","id","bank_code","money_type","accounting_subject","methods","submitForm","formName","_this2","$refs","validate","valid","console","log","extends_default","workAccountId","_message","$router","push","path","l","accointId","zhangtao_zhanghushezhi_add_set","render","_vm","_h","$createElement","_c","_self","staticStyle","background","padding","display","justify-content","align-items","font-size","color","_v","_s","border","margin-top","width","flex-wrap","ref","attrs","label-width","model","label","prop","staticClass","placeholder","value","callback","$$v","$set","expression","_l","item","key","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/33.a25c6ebf5371f26ee2e8.js","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"background: #FFF;padding: 2vh 2vw;\">\r\n            <div style=\"display: flex;justify-content: center;align-items: center\">\r\n                <div style=\"font-size: 30px;color: #1C2023;\">\r\n                    {{title}}\r\n                </div>\r\n            </div>\r\n\r\n            <div style=\"border: 1px solid #F8F8FF;padding: 2vh 2vw;margin-top: 2vh;display: flex; justify-content: center\">\r\n                <div style=\"width: 500px;display: flex;justify-content: center;flex-wrap: wrap\">\r\n                    <div style=\"width: 100%;\">\r\n                        <el-form\r\n                                :rules=\"rules\"\r\n                                ref=\"user\"\r\n                                label-width=\"100px\"\r\n                                :model=\"user\">\r\n                            <!--<el-form-item label=\"编号：\" prop=\"\" v-if=\"title=='编辑账户'\">-->\r\n                                <!--<el-input type=\"text\" placeholder=\"\" class=\"hj-ipt\" v-model=\"user.number\"></el-input>-->\r\n                            <!--</el-form-item>-->\r\n                            <el-form-item label=\"名称：\" prop=\"name\">\r\n                                <el-input type=\"text\" placeholder=\"示例：中国银行\" class=\"hj-ipt\" v-model=\"user.name\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"银行账号：\" prop=\"bankCode\">\r\n                                <el-input type=\"text\" placeholder=\"\" class=\"hj-ipt\" v-model=\"user.bankCode\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"币别：\" prop=\"moneyType\">\r\n                                <el-select v-model=\"user.moneyType\" placeholder=\"请选择\">\r\n                                    <el-option :label=\"item.name\" :value=\"item.name\" v-for=\"item in list\" :key=\"item.id\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"会计科目：\" prop=\"accountingSubject\">\r\n                                <el-input type=\"text\" placeholder=\"\" v-model=\"user.accountingSubject\"></el-input>\r\n                            </el-form-item>\r\n\r\n                            <div style=\"width: 100%;display: flex;justify-content: space-between\">\r\n                                <el-button type=\"warning\" @click=\"submitForm('user')\">保存</el-button>\r\n                                <el-button type=\"info\" @click=\"$router.push({path:'/home/zhangtao/zhanghushezhi'})\">返回</el-button>\r\n                            </div>\r\n                        </el-form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mix from \"@/mixins/mixins\"\r\n\r\n    export default {\r\n        name: \"xianjinliuliangbiao\",\r\n        mixins:[mix],\r\n\r\n        data() {\r\n            return {\r\n                list:[],\r\n                title:\"\",\r\n                user:{\r\n                    // number:'',\r\n                    name:'',\r\n                    bankCode:\"\",\r\n                    moneyType:'',\r\n                    accountingSubject:''\r\n                },\r\n                rules: {   // 表单验条件\r\n                    name:[\r\n                        { required: true,message: \"请输入名称\", trigger: 'blue' }\r\n                    ],\r\n                    bankCode:[\r\n                        { required: true,message: '请输入银行账号', trigger: 'blur' }\r\n                    ],\r\n                    moneyType:[\r\n                        { required: true,message: '请选择币别', trigger: 'change' }\r\n                    ],\r\n                    accountingSubject:[\r\n                        { required: true,message: '请输入会计科目', trigger: 'blur' }\r\n                    ]\r\n                },\r\n                // 修改接口只要改了的\r\n                n:'',\r\n                b:'',\r\n                m:'',\r\n                a:'',\r\n            }\r\n        },\r\n        mounted(){\r\n            this.getStorage()\r\n\r\n            this._ajax('common/selectMoneyType',{\r\n            }, msg => {\r\n                this.list = msg\r\n                // this._message(1,\"币种成功\")\r\n            })\r\n\r\n            if(this.$route.query.type == \"add\"){\r\n                this.title = \"新建账户\"\r\n            }else{\r\n                this.title = \"编辑账户\"\r\n                this._ajax('userHomePage/selectUserBankCode', {\r\n                    uuid:this.uuid,\r\n                    accountId:this.accountId,\r\n                    bankCodeId:this.$route.query.id,\r\n                }, msg => {\r\n                    this.user.name = msg.name\r\n                    this.user.bankCode = msg.bank_code\r\n                    this.user.moneyType = msg.money_type\r\n                    this.user.accountingSubject = msg.accounting_subject\r\n                    // this.user.number = msg.number\r\n                    // 修改接口只要改了的\r\n                    this.n = msg.name\r\n                    this.b = msg.bank_code\r\n                    this.m = msg.money_type\r\n                    this.a = msg.accounting_subject\r\n\r\n                    // this._message(1,\"返显成功\")\r\n                })\r\n            }\r\n        },\r\n        methods: {\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        if(this.title==\"新建账户\"){\r\n                            this._ajax('userHomePage/addUserBankCode', {\r\n                                uuid:this.uuid,\r\n                                workAccountId:this.accountId,\r\n                                ...this.user\r\n                            }, msg => {\r\n                                this._message(1,\"添加成功\")\r\n                                this.$router.push({path:\"/home/zhangtao/zhanghushezhi\"})\r\n                            })\r\n                        }else{\r\n                            // 如果都没修改点击保存\r\n                            if(this.n == this.user.name && this.b == this.user.bankCode && this.m == this.user.moneyType && this.a == this.user.accountingSubject){\r\n                                this.$router.push({path:\"/home/zhangtao/zhanghushezhi\"})\r\n                                return\r\n                            }\r\n                            const l = {}\r\n                            if(this.n != this.user.name){\r\n                                l.name = this.user.name\r\n                            }\r\n                            if(this.b != this.user.bankCode){\r\n                                l.bankCode = this.user.bankCode\r\n                            }\r\n                            if(this.m != this.user.moneyType){\r\n                                l.moneyType = this.user.moneyType\r\n                            }\r\n                            if(this.a != this.user.accountingSubject){\r\n                                l.accountingSubject = this.user.accountingSubject\r\n                            }\r\n                            this._ajax('userHomePage/updateUserBankCode', {\r\n                                uuid:this.uuid,\r\n                                accointId:this.accountId,\r\n                                bankCodeId:this.$route.query.id,\r\n                                ...l\r\n                            }, msg => {\r\n                                this._message(1,\"修改成功\")\r\n                                this.$router.push({path:\"/home/zhangtao/zhanghushezhi\"})\r\n                            })\r\n                        }\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .el-table .lan {\r\n        background: rgba(68,160,255,0.05);\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/zhangtao/zhanghushezhi_add_set.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#FFF\",\"padding\":\"2vh 2vw\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"font-size\":\"30px\",\"color\":\"#1C2023\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.title)+\"\\n            \")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid #F8F8FF\",\"padding\":\"2vh 2vw\",\"margin-top\":\"2vh\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"width\":\"500px\",\"display\":\"flex\",\"justify-content\":\"center\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-form',{ref:\"user\",attrs:{\"rules\":_vm.rules,\"label-width\":\"100px\",\"model\":_vm.user}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"text\",\"placeholder\":\"示例：中国银行\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"银行账号：\",\"prop\":\"bankCode\"}},[_c('el-input',{staticClass:\"hj-ipt\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},model:{value:(_vm.user.bankCode),callback:function ($$v) {_vm.$set(_vm.user, \"bankCode\", $$v)},expression:\"user.bankCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"币别：\",\"prop\":\"moneyType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.user.moneyType),callback:function ($$v) {_vm.$set(_vm.user, \"moneyType\", $$v)},expression:\"user.moneyType\"}},_vm._l((_vm.list),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"会计科目：\",\"prop\":\"accountingSubject\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"\"},model:{value:(_vm.user.accountingSubject),callback:function ($$v) {_vm.$set(_vm.user, \"accountingSubject\", $$v)},expression:\"user.accountingSubject\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.submitForm('user')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.$router.push({path:'/home/zhangtao/zhanghushezhi'})}}},[_vm._v(\"返回\")])],1)],1)],1)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-418837dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/zhangtao/zhanghushezhi_add_set.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-418837dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./zhanghushezhi_add_set.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./zhanghushezhi_add_set.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./zhanghushezhi_add_set.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-418837dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./zhanghushezhi_add_set.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/zhangtao/zhanghushezhi_add_set.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}